{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport './CreateClass.css';\n\nclass CreateClass extends Component {\n  constructor() {\n    super();\n\n    this.next = e => {\n      this.setState({\n        isClickedNext: true\n      });\n    };\n\n    this.handleFilter = event => {\n      this.setState({\n        search: event.target.value\n      });\n      console.log(this.state.search);\n    };\n\n    this.addStudent = e => {\n      let id = e.target.value;\n      id.trim();\n      let arr = this.state.addedStd;\n      let found = arr.indexOf(id);\n\n      if (found === -1) {\n        arr.push(id); // document.getElementById(id + 'label').style.background = \"#004d1a\";\n\n        this.setState({\n          addedStd: arr\n        });\n      } else {\n        arr.splice(found, 1);\n        this.setState({\n          addStudent: arr\n        });\n        document.getElementById(id + 'label').style.background = \"#343a40\";\n      }\n\n      console.log(this.state.addedStd);\n    };\n\n    this.courseName = e => {\n      let cName = e.target.value;\n      console.log(cName);\n      this.setState({\n        courseName: cName\n      });\n    };\n\n    this.addNewClass = e => {\n      console.log(this.state.addedStd);\n      fetch('http://localhost:3000/classes', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          className: this.state.courseName,\n          ids: this.state.addedStd\n        })\n      }).then(res => res.json()).then(console.log).catch(\"error during send classes data to backend\");\n    };\n\n    this.state = {\n      isClickedNext: false,\n      image: null,\n      url: '',\n      students: [],\n      search: '',\n      addedStd: [],\n      courseName: ''\n    };\n  } //for hide class name input and show the add new student and done \n\n\n  componentDidMount() {\n    fetch('http://localhost:3000/students').then(res => res.json()).then(data => {\n      this.setState({\n        students: data\n      }, () => {\n        console.log(this.state.students);\n      });\n    }).catch(e => console.log(e));\n  }\n\n  render() {\n    const {\n      isClickedNext\n    } = this.state;\n    let filteredArray = this.state.students.filter(std => {\n      return `${std.fname} ${std.lname} ${std.id}`.toLowerCase().includes(this.state.search.toLowerCase());\n    });\n\n    if (this.state.addedStd.length !== 0) {\n      this.state.addedStd.forEach(id => {\n        let name = document.getElementById(id + 'label');\n\n        if (name !== null) {\n          name.style.background = \"#004d1a\";\n        }\n      });\n    }\n\n    filteredArray = filteredArray.map((std, i) => {\n      return /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: std.id,\n        id: std.id + 'label',\n        key: std.id,\n        className: \"student\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 16\n        }\n      }, std.fname + ' ' + std.lname + ' | ' + std.id, \" \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: std.id,\n        id: std.id,\n        onChange: this.addStudent,\n        className: \"check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 142\n        }\n      }));\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3 bg-black-10 shadow-5 p-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, isClickedNext === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, \"Add Class\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Class Name\",\n      onChange: this.courseName,\n      className: \"form-input mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.next,\n      id: \"submit\",\n      className: \"btn f3 grow btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"Next\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }, \"Add Student\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"search\",\n      onChange: this.handleFilter,\n      type: \"search\",\n      placeholder: \"search on students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cont-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"students p-3\",\n      id: \"students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 37\n      }\n    }, filteredArray))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      id: \"submit\",\n      className: \"btn f3 grow btn-success btn-submit\",\n      onClick: this.addNewClass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, \"Done\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 136\n      }\n    }))));\n  }\n\n}\n\nexport default CreateClass;","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js"],"names":["React","Component","Button","CreateClass","constructor","next","e","setState","isClickedNext","handleFilter","event","search","target","value","console","log","state","addStudent","id","trim","arr","addedStd","found","indexOf","push","splice","document","getElementById","style","background","courseName","cName","addNewClass","fetch","method","headers","body","JSON","stringify","className","ids","then","res","json","catch","image","url","students","componentDidMount","data","render","filteredArray","filter","std","fname","lname","toLowerCase","includes","length","forEach","name","map","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport './CreateClass.css';\n\nclass CreateClass extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isClickedNext: false,\n            image: null,\n            url: '',\n            students:[],\n            search:'' ,\n            addedStd : [] ,\n            courseName : ''\n        }\n    }\n\n    //for hide class name input and show the add new student and done \n    next = (e) => {\n        this.setState({ isClickedNext: true});\n    }\n\n    componentDidMount() {\n        fetch('http://localhost:3000/students')\n        .then(res=> res.json()).then(data=>{\n            this.setState({students:data} , ()=>{console.log(this.state.students)});\n        })\n        .catch(e=>console.log(e));\n    }\n\n    handleFilter=(event)=>{\n        this.setState({search:event.target.value});\n        console.log(this.state.search);\n    }\n\n    //Add the select student to the state .\n    addStudent = (e) => {\n        let id = e.target.value ;\n        id.trim();\n        let arr = this.state.addedStd;\n        let found = arr.indexOf(id) ;\n        if(found === -1){\n            arr.push(id) ;\n            // document.getElementById(id + 'label').style.background = \"#004d1a\";\n            this.setState({\n                addedStd : arr\n            }) ;\n        }\n        else {\n            arr.splice(found, 1);\n            this.setState({addStudent: arr});\n            \n            document.getElementById(id + 'label').style.background = \"#343a40\";\n        }\n        console.log(this.state.addedStd) ;\n    }\n\n    courseName = (e) => {\n        let cName = e.target.value ;\n        console.log(cName) ;\n        this.setState({\n            courseName : cName\n        })\n    }\n\n    //Sende the students ids to the backend\n    addNewClass = (e) => {\n        console.log(this.state.addedStd);\n        fetch('http://localhost:3000/classes',{\n           method: 'POST',\n           headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            className:this.state.courseName,\n            ids:this.state.addedStd\n          }),\n       }).then(res => res.json()).then(console.log).catch(\"error during send classes data to backend\");\n       \n    }\n\n    render() {\n        const { isClickedNext } = this.state;\n        let filteredArray = this.state.students.filter( (std)=>{\n            return (`${std.fname} ${std.lname} ${std.id}`).toLowerCase().includes(this.state.search.toLowerCase());\n        });\n        if (this.state.addedStd.length !== 0){\n        \n        this.state.addedStd.forEach((id) => {\n            let name = document.getElementById(id + 'label') ;\n            if(name !== null){\n            name.style.background = \"#004d1a\";\n            }\n            \n        })\n    }\n        filteredArray = filteredArray.map((std , i)=>{\n        return <label htmlFor={std.id} id={std.id + 'label'} key={std.id} className=\"student\">{std.fname + ' ' + std.lname + ' | ' + std.id} <input type=\"checkbox\" value={std.id} id={std.id} onChange={this.addStudent} className=\"check\"/></label>\n    })\n      \n        return (\n            <>\n                <div className=\"mt-3 bg-black-10 shadow-5 p-5 \">\n                    {isClickedNext === false ? \n                    <>\n                        <h1 className=\"main-title\">Add Class</h1>\n                        <input type=\"text\" placeholder=\"Class Name\" onChange={this.courseName} className=\"form-input mt-4\" />\n                        <br />\n                        <Button onClick={this.next} id='submit' className=\"btn f3 grow btn-success btn-submit mt-4\">Next</Button>\n                    </>\n                        :\n                    <>\n                            <h1 className=\"main-title\">Add Student</h1>\n                            <div className= \"container-students\">\n                                <input className=\"search\" onChange={this.handleFilter} type=\"search\" placeholder=\"search on students\"/>\n                                <div className=\"cont-cont\">\n                                    <div className=\"students p-3\" id=\"students\">\n                                            {filteredArray}\n                                    </div>\n                                </div>\n                            </div>\n                            <br />\n                            <Button id='submit' className=\"btn f3 grow btn-success btn-submit\" onClick={this.addNewClass}>Done</Button><br />\n                    </>}\n                </div>\n            </>);\n    }\n}\n\nexport default CreateClass;\n\n\n\n"]},"metadata":{},"sourceType":"module"}