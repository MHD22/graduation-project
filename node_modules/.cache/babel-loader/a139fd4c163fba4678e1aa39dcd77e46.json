{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/MyClasses.js\";\nimport React, { Component } from 'react';\nimport img from '../img.jpeg';\n\nclass MyClasses extends Component {\n  constructor() {\n    super();\n\n    this.checkAttendence = e => {\n      console.log(URL.createObjectURL(e.target.files[0]));\n      const img = e.target;\n\n      if (img) {\n        this.setState({\n          file: URL.createObjectURL(e.target.files[0])\n        });\n        this.faceRecognition(img.files[0]);\n      }\n    };\n\n    this.faceRecognition = img => {\n      var myHeaders = new Headers();\n      myHeaders.append(\"token\", \"0ed0d51e90cc4f3ab510a564cfb94b60\");\n      var formdata = new FormData();\n      formdata.append(\"photo\", img, \"file\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: formdata,\n        redirect: 'follow'\n      };\n      fetch(\"https://api.luxand.cloud/photo/search\", requestOptions).then(response => response.json()).then(result => {\n        console.log(result);\n      }).catch(error => console.log('error', error));\n    };\n\n    this.state = {\n      file: null\n    };\n  }\n\n  componentDidMount() {\n    // //left: 111, top: 11, right: 487, bottom: 387}\n    let img1 = document.getElementById('img1');\n    let w = 400;\n    let h = 400;\n    let top = 11,\n        right = 487,\n        bottom = 387,\n        left = 111;\n    let top2 = top;\n    let bottom2 = h - bottom;\n    let canvas = document.getElementById('canvas');\n    let ctx = canvas.getContext('2d');\n    ctx.strokeRect(left, top, right + left - w, top + bottom - h); // const data= d.outputs[0].data.regions[0].region_info.bounding_box;\n    // const photo = document.getElementById(\"faceImage\");\n    // const width = Number(photo.width);\n    // const height= Number(photo.height);\n    // return {\n    // top : data.top_row * height ,\n    // bottom : height - (Number(data.bottom_row)*height) ,\n    // right : width-(Number(data.right_col)*width),\n    // left : (Number(data.left_col)*width)\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3 bg-black-10 shadow-5 p-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, \"Upload an image to check attendence\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.checkAttendence,\n      type: \"file\",\n      accept: \"image/*\",\n      id: \"file2\",\n      className: \"form-file mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"draw-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"img1\",\n      width: \"400\",\n      height: \"400\",\n      className: \"mt-5 rounded\",\n      src: img || this.state.file || 'https://via.placeholder.com/400/',\n      alt: \"person\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 165\n      }\n    })), /*#__PURE__*/React.createElement(\"canvas\", {\n      style: {\n        backgroundImage: `url(${img || this.state.file || 'https://via.placeholder.com/400/'})`\n      },\n      id: \"canvas\",\n      width: \"400\",\n      height: \"400\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default MyClasses;","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/MyClasses.js"],"names":["React","Component","img","MyClasses","constructor","checkAttendence","e","console","log","URL","createObjectURL","target","files","setState","file","faceRecognition","myHeaders","Headers","append","formdata","FormData","requestOptions","method","headers","body","redirect","fetch","then","response","json","result","catch","error","state","componentDidMount","img1","document","getElementById","w","h","top","right","bottom","left","top2","bottom2","canvas","ctx","getContext","strokeRect","render","backgroundImage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react' ;\nimport img from '../img.jpeg';\n\nclass MyClasses extends Component{\n    constructor(){\n        super() ;\n        this.state = {\n            file: null\n        }\n    }\n    checkAttendence = (e) => {\n        console.log(URL.createObjectURL(e.target.files[0]));\n        const img = e.target ;\n        if(img){\n            this.setState({\n                file: URL.createObjectURL(e.target.files[0])\n            })\n            this.faceRecognition(img.files[0]) ;\n        }\n    }\n    componentDidMount(){\n        // //left: 111, top: 11, right: 487, bottom: 387}\n        \n        let img1 = document.getElementById('img1');\n        let w = 400;\n        let h = 400;\n        let top=11,right=487,bottom=387,left=111;\n        let top2 = top ;\n        let bottom2 =h-bottom;\n        \n        let canvas = document.getElementById('canvas');\n        let ctx = canvas.getContext('2d');\n\n        ctx.strokeRect(left,top,(right+left)-w,(top+bottom)-h);\n        \n        // const data= d.outputs[0].data.regions[0].region_info.bounding_box;\n        // const photo = document.getElementById(\"faceImage\");\n        // const width = Number(photo.width);\n        // const height= Number(photo.height);\n        // return {\n        // top : data.top_row * height ,\n        // bottom : height - (Number(data.bottom_row)*height) ,\n        // right : width-(Number(data.right_col)*width),\n        // left : (Number(data.left_col)*width)\n\n\n       \n\n    }\n\n    faceRecognition = (img) => {\n        var myHeaders = new Headers();\n        myHeaders.append(\"token\", \"0ed0d51e90cc4f3ab510a564cfb94b60\");\n\n        var formdata = new FormData();\n        formdata.append(\"photo\", img, \"file\");\n\n        var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: formdata,\n        redirect: 'follow'\n    };\n\n        fetch(\"https://api.luxand.cloud/photo/search\", requestOptions)\n        .then(response => response.json())\n        .then(result => {\n        \n            console.log(result) ;\n        })\n        .catch(error => console.log('error', error));\n    };\n\n\n    render() {\n         \n        return (\n            <>\n                <div className=\"mt-3 bg-black-10 shadow-5 p-5 \">\n                    <h1 className=\"main-title\">Upload an image to check attendence</h1>\n                    <input onChange={this.checkAttendence} type=\"file\" accept=\"image/*\" id=\"file2\" className=\"form-file mt-4\" required />\n                    <br />\n                    <div className='draw-image'>\n                    <img id='img1' width=\"400\" height=\"400\" className=\"mt-5 rounded\" src={img||this.state.file || 'https://via.placeholder.com/400/'} alt='person'/><br/>\n                    </div>\n                    <canvas style ={{backgroundImage: `url(${img||this.state.file || 'https://via.placeholder.com/400/'})` }}id ='canvas' width='400' height='400'></canvas>\n                    \n                </div>\n            </>);\n    }\n}\nexport default MyClasses ;\n"]},"metadata":{},"sourceType":"module"}