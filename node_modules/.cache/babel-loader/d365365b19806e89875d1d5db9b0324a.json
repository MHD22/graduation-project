{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/MyClasses2.js\";\nimport { Button, Col, Row } from 'react-bootstrap';\nimport React, { Component } from 'react';\nimport noImage from '../noImage.png';\nimport StudentsTable from './StudentsTable';\nimport Details from './Details';\nimport History from './History';\nimport { storage } from '../firebase/index';\nimport EditClass from './EditClass';\nimport { Redirect, Route } from 'react-router-dom';\nimport './myClasses.css';\nconst initialState = {\n  file: null,\n  width: 0,\n  height: 0,\n  ids: [],\n  students: [],\n  absenceStudents: [],\n  attendStudents: [],\n  showImage: true,\n  showUploadBtn: false,\n  load: false,\n  hidePage: false,\n  classes: [],\n  selected_class: '',\n  imgs: [],\n  faces: [],\n  disableButton: false,\n  direction: 'check',\n  // OR history , details , edit\n  historyData: {},\n  route: null,\n  doneDisable: true,\n  showStudents: [],\n  flag: 0\n};\n\nclass MyClasses extends Component {\n  constructor() {\n    super();\n\n    this.checkLoggedIn = () => {\n      const data = sessionStorage.getItem('teacher');\n\n      if (!data) {\n        this.setState({\n          route: '/login'\n        });\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.checkAttendence = e => {\n      this.setState({\n        load: true,\n        doneDisable: true\n      }); //Create a reader to read an uploaded file .\n\n      let reader = new FileReader();\n      reader.readAsDataURL(e.target.files[0]);\n\n      reader.onload = event => {\n        //Get the uploaded image and store it in let image .\n        let image = new Image();\n        image.src = event.target.result; //Create to letiable to store image width and height .\n\n        let imgHeight, imgWidth;\n\n        image.onload = async function () {\n          imgHeight = this.height;\n          imgWidth = this.width; //The function will store width and height values in State . \n\n          setData();\n        };\n\n        let setData = () => {\n          this.setState({\n            width: imgWidth,\n            height: imgHeight\n          });\n        };\n      };\n\n      const img = e.target;\n\n      if (img) {\n        this.setState({\n          file2: e.target.files[0],\n          file: URL.createObjectURL(e.target.files[0])\n        });\n        this.faceRecognition(img.files[0]);\n      }\n\n      e.target.value = null;\n    };\n\n    this.setShowBtn = () => {\n      this.setState({\n        showUploadBtn: true\n      });\n    };\n\n    this.sendHistoryData = () => {\n      let requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'ids': this.state.ids,\n          'imgs': this.state.imgs\n        })\n      };\n      let baseUrl = document.getElementById('baseUrl').defaultValue;\n      fetch(`${baseUrl}/history/${this.state.selected_class}`, requestOptions).then(res => res.json()).then(console.log).catch(e => {\n        console.log(\"An Error occured while sending history Data ..\", e);\n      });\n      let date = new Date();\n      let fullDate = date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n      let historyData = {\n        students: this.state.ids,\n        allStudents: this.state.students,\n        imgs: this.state.imgs,\n        className: this.state.selected_class,\n        date: fullDate\n      };\n      this.clear();\n      this.setState({\n        ids: [],\n        imgs: [],\n        selected_class: [],\n        historyData: historyData,\n        disableButton: true,\n        route: '/show/details'\n      });\n    };\n\n    this.faceRecognition = img => {\n      let formdata = new FormData();\n      formdata.append(\"photo\", img, \"file\");\n      let requestOptions = {\n        method: 'POST',\n        body: formdata,\n        redirect: 'follow'\n      };\n      let baseUrl = document.getElementById('baseUrl').defaultValue;\n      fetch(`${baseUrl}/checkImage`, requestOptions).then(response => response.json()).then(result => {\n        console.log(result); //Define canvas to draw rectangle .\n\n        let canvas = document.getElementById('canvas');\n        let ctx = canvas.getContext('2d'); //Canvas properties .\n\n        ctx.strokeStyle = '#fcff04';\n        ctx.fillStyle = '#fcff04';\n        ctx.lineWidth = '3'; //Change the background of context to the uploaded image .\n\n        let image = document.getElementById('person');\n        ctx.drawImage(image, 0, 0);\n        let studetnsIDs = this.state.students.map(std => {\n          return std.id;\n        });\n        let {\n          ids\n        } = this.state;\n\n        for (let i in result) {\n          let name = result[i].name.substring(0, result[i].name.indexOf('|'));\n          let id = result[i].name.substring(result[i].name.indexOf('|') + 2);\n\n          if (!studetnsIDs.includes(id)) {\n            continue;\n          }\n\n          if (result[i].probability * 100 < 85) {\n            continue;\n          }\n\n          if (!ids.includes(id)) {\n            ids.push(id);\n          } //Get the values of Rectangle .\n\n\n          let {\n            left,\n            right,\n            bottom,\n            top\n          } = result[i].rectangle; //Determine the width and hight for rectangle .\n\n          let Dim = right - left; //Determine font size and the space between rectangle and text .\n\n          let space = parseInt(Dim / 3) + 2,\n              text = `${space}px Carter One`;\n          ctx.font = text; //Draw the rectangle .\n\n          ctx.strokeRect(left, top, Dim, Dim); //Type the name of person .\n\n          ctx.fillText(name, left, bottom + space);\n        }\n\n        let attendStudents = [];\n        let absenceStudents = [];\n\n        for (let i of this.state.students) {\n          let flag = false;\n\n          for (let j of this.state.ids) {\n            if (i.id === j) {\n              flag = true;\n            }\n          }\n\n          if (flag) {\n            attendStudents.push({\n              id: i.id,\n              name: i.name\n            });\n          } else {\n            absenceStudents.push({\n              id: i.id,\n              name: i.name\n            });\n          }\n        }\n\n        this.setState({\n          ids: ids,\n          attendStudents,\n          absenceStudents // imgs : [imagesLink]\n\n        });\n        let space = this.state.width / 20;\n        ctx.fillStyle = 'black';\n        let text = `${space}px serif`;\n        ctx.font = text;\n        ctx.fillText(new Date().toLocaleString(), this.state.width / 2 - 5 * space, 50);\n        this.setState({\n          showImage: false\n        }); // Store image in firebase ........\n\n        let dataURL = canvas.toDataURL(\"image/png\");\n        console.log(ids);\n        this.setState({\n          file: dataURL\n        });\n        let formdata = this.getImageURL(dataURL);\n        this.convertImageToURL(formdata.get('image'));\n        console.log(\"Imgs : \", this.state.imgs);\n        this.colorTable(result);\n        this.setState({\n          load: false\n        });\n      }).catch(error => console.log('error', error));\n    };\n\n    this.colorTable = () => {\n      let {\n        ids\n      } = this.state;\n\n      for (let i of ids) {\n        let row = document.getElementById(i + \"\");\n\n        if (row) {\n          row.style.backgroundColor = '#178326a2';\n        }\n      }\n    };\n\n    this.clear = () => {\n      this.setState({\n        showImage: true,\n        showUploadBtn: false,\n        ids: [],\n        imgs: []\n      });\n      document.getElementById(\"file2\").value = '';\n      let {\n        students\n      } = this.state;\n\n      for (let student of students) {\n        let stdRow = document.getElementById(student.id);\n\n        if (stdRow) {\n          stdRow.className = '';\n        }\n      }\n    };\n\n    this.CheckClass = e => {\n      let cName = e.target.getAttribute('data-class');\n      console.log(cName);\n      let arr = [];\n      let {\n        classes\n      } = this.state;\n      classes.forEach(element => {\n        if (element.className === cName) {\n          element.students.forEach(std => {\n            arr.push({\n              id: std.id_number,\n              name: std.firstName + \" \" + std.lastName\n            });\n          });\n        }\n      });\n      console.log(arr, this.state.classes);\n      this.setState({\n        ids: [],\n        imgs: [],\n        students: arr,\n        hidePage: true,\n        showStudents: arr,\n        selected_class: cName,\n        route: '/show/classData'\n      });\n    };\n\n    this.editClass = () => {\n      this.setState({\n        direction: 'edit',\n        route: '/show/editClass'\n      });\n    };\n\n    this.back = () => {\n      this.setState({\n        hidePage: false,\n        route: '/show'\n      });\n      this.clear();\n    };\n\n    this.showHistoryPage = () => {\n      this.setState({\n        route: '/show/classHistory'\n      });\n    };\n\n    this.showAllStudents = () => {\n      let showStudents = this.state.students;\n      this.setState({\n        showStudents\n      });\n      this.colorTable();\n    };\n\n    this.showAttendStudents = () => {\n      let showStudents = this.state.attendStudents;\n      this.setState({\n        showStudents\n      });\n    };\n\n    this.showAbcentStudents = () => {\n      let showStudents = this.state.absenceStudents;\n      this.setState({\n        showStudents\n      });\n    };\n\n    this.onChangeRoute = (route, timer) => {\n      setTimeout(() => {\n        console.log(route, \"clicked\");\n\n        if (this.checkLoggedIn()) {\n          let baseUrl = document.getElementById('baseUrl').defaultValue;\n          fetch(`${baseUrl}/teacherClasses?id=` + JSON.parse(sessionStorage.getItem('teacher')).id_number).then(res => res.json()).then(data => {\n            this.setState({\n              classes: data,\n              route\n            });\n          }).catch(e => console.log(e));\n        }\n      }, timer);\n    };\n\n    this.state = initialState;\n  } // Get all the classes for the logged in teacher .\n\n\n  componentDidMount() {\n    if (this.checkLoggedIn()) {\n      let baseUrl = document.getElementById('baseUrl').defaultValue;\n      fetch(`${baseUrl}/teacherClasses?id=` + JSON.parse(sessionStorage.getItem('teacher')).id_number).then(res => res.json()).then(data => {\n        this.setState({\n          classes: data\n        });\n      }).catch(e => console.log(e));\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      flag: 0\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.flag !== 1) {\n      if (this.checkLoggedIn()) {\n        let baseUrl = document.getElementById('baseUrl').defaultValue;\n        fetch(`${baseUrl}/teacherClasses?id=` + JSON.parse(sessionStorage.getItem('teacher')).id_number).then(res => res.json()).then(data => {\n          this.setState({\n            classes: data,\n            flag: 1\n          });\n        }).catch(e => console.log(e));\n      }\n    }\n  } //To Check if LoggedIn .\n\n\n  getImageURL(dataURL) {\n    let blobBin = atob(dataURL.split(',')[1]);\n    let array = [];\n\n    for (let i = 0; i < blobBin.length; i++) {\n      array.push(blobBin.charCodeAt(i));\n    }\n\n    let file = new Blob([new Uint8Array(array)], {\n      type: 'image/png'\n    });\n    let formdata = new FormData();\n    formdata.append(\"image\", file);\n    return formdata;\n  }\n\n  convertImageToURL(image) {\n    if (image) {\n      let imageName = \"studentsImage\" + new Date().getTime();\n      const upload = storage.ref(`images/${imageName}`).put(image);\n      upload.on('state_changed', snapshot => {}, err => {\n        console.log(\"error while getting data from firebase.\\n\", err);\n        return '';\n      }, () => {\n        storage.ref('images').child(imageName).getDownloadURL().then(urll => {\n          console.log(urll);\n          let imgs = [].concat(this.state.imgs);\n          imgs.push(urll);\n          this.setState({\n            imgs: imgs,\n            doneDisable: false\n          });\n          return urll;\n        });\n      });\n    }\n  } // To change the row color according to the attendence .\n\n\n  render() {\n    let {\n      path\n    } = this.props.match;\n    let classInfo = {\n      'students': this.state.students,\n      'className': this.state.selected_class\n    };\n    let rows = this.state.classes.map(cs => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: this.CheckClass,\n        key: cs._id,\n        \"data-class\": cs.className,\n        \"data-student\": cs.students,\n        id: `class:${cs._id}`,\n        className: `cont-card`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        \"data-class\": cs.className,\n        className: \"inner-cont-card  large button card-front\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        \"data-class\": cs.className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 25\n        }\n      }, cs.className), /*#__PURE__*/React.createElement(\"i\", {\n        \"data-class\": cs.className,\n        className: \"far fa-paper-plane icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        \"data-class\": cs.className,\n        className: \"panel card-back\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        \"data-class\": cs.className,\n        className: \"inner-cont-card hub-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        \"data-class\": cs.className,\n        className: \"far mb-3 fa-edit icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        \"data-class\": cs.className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 29\n        }\n      }, \"Contains \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 67\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        \"data-class\": cs.className,\n        className: \"number-span\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 74\n        }\n      }, cs.students.length), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 158\n        }\n      }), \" Students\"))));\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.route ? /*#__PURE__*/React.createElement(Redirect, {\n      to: this.state.route,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 37\n      }\n    }) : null, /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/editClass`,\n      component: () => /*#__PURE__*/React.createElement(EditClass, {\n        classInfo: classInfo,\n        onChangeRoute: this.onChangeRoute,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 68\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/classHistory`,\n      component: () => /*#__PURE__*/React.createElement(History, {\n        selected_class: this.state.selected_class,\n        onChangeRoute: this.onChangeRoute,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 71\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/details`,\n      component: () => /*#__PURE__*/React.createElement(Details, {\n        historyData: this.state.historyData,\n        onChangeRoute: this.onChangeRoute,\n        backToHistory: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 66\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `${path}`,\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"hero-unit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"hgroup\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 33\n      }\n    }, \"Select A Class \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flip-cards\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 29\n      }\n    }, rows)))), /*#__PURE__*/React.createElement(Route, {\n      path: `${path}/classData`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg--white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"loader\",\n      hidden: !this.state.load,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"hexagon-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      class: \"hexagon hex_1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"hexagon hex_2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"hexagon hex_3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"hexagon hex_4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"hexagon hex_5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"hexagon hex_6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"hexagon hex_7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" d-flex justify-content-between btns\",\n      style: {\n        paddingRight: '12%',\n        paddingLeft: '12%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      \"hover-data\": \"Back\",\n      onClick: this.back,\n      className: \"red-btn mt4 ma1 my-button\",\n      hidden: this.state.load,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"btn-icon far fa-arrow-alt-circle-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      \"hover-data\": \"Edit Class\",\n      hidden: this.state.load,\n      onClick: this.editClass,\n      className: \" mt4 ma1 my-button \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"btn-icon fas fa-users-cog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      \"hover-data\": \"Class History\",\n      hidden: this.state.load,\n      onClick: this.showHistoryPage,\n      className: \" mt4 ma1 my-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"btn-icon fas fa-history\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my-line2\",\n      hidden: this.state.load,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      hidden: this.state.load,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      hidden: this.state.showUploadBtn,\n      onClick: this.setShowBtn,\n      className: \"my-button mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 33\n      }\n    }, \"Check Attendence\"), /*#__PURE__*/React.createElement(\"div\", {\n      hidden: !this.state.showUploadBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      hidden: !this.state.showImage,\n      className: \"mt-5 f3 b i upload-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 37\n      }\n    }, \"Upload one or more image to take the attendance, Then click on \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"red f3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 170\n      }\n    }, \"'Done'\"), \" Button.\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"file2\",\n      className: \"mt-3 my-button pointer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 37\n      }\n    }, this.state.ids.length === 0 ? 'Upload An Image ' : 'Upload Another Image ', \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \" fas fa-cloud-upload-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 174\n      }\n    }), \"   \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      hidden: true,\n      onChange: this.checkAttendence,\n      accept: \"image/*\",\n      id: \"file2\",\n      className: \"form-file mt-4 \",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      hidden: true,\n      id: \"person\",\n      src: this.state.file,\n      alt: \"Person\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"canvas\", {\n      id: \"canvas\",\n      width: this.state.width,\n      height: this.state.height,\n      hidden: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-thumbnail mt-4\",\n      src: this.state.file || noImage,\n      alt: \"Person\",\n      width: \"300\",\n      height: \"300\",\n      hidden: this.state.showImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-buttons2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      hidden: this.state.showImage,\n      onClick: this.clear,\n      className: \"my-button grow red-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-trash-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 135\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      hidden: this.state.showImage,\n      className: \"my-button  grow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `${this.state.file}`,\n      download: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 107\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-download\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 152\n      }\n    }), \" \"), /*#__PURE__*/React.createElement(\"button\", {\n      hidden: this.state.showImage,\n      onClick: this.sendHistoryData,\n      disabled: this.state.doneDisable,\n      className: \"my-button grn-btn grow \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 41\n      }\n    }, \"Done\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my-line\",\n      hidden: this.state.load,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      hidden: this.state.load,\n      className: \"mt5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mt-2 table-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 33\n      }\n    }, \"Student of the course\"), /*#__PURE__*/React.createElement(StudentsTable, {\n      students: this.state.showStudents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.showAllStudents,\n      className: \"my-button grow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 37\n      }\n    }, \"All Students\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.showAttendStudents,\n      className: \"my-button grn-btn grow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 37\n      }\n    }, \"Attendance Students\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.showAbcentStudents,\n      className: \"my-button grow red-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 37\n      }\n    }, \"Absence Students\")))))));\n  }\n\n}\n\nexport default MyClasses;","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/MyClasses2.js"],"names":["Button","Col","Row","React","Component","noImage","StudentsTable","Details","History","storage","EditClass","Redirect","Route","initialState","file","width","height","ids","students","absenceStudents","attendStudents","showImage","showUploadBtn","load","hidePage","classes","selected_class","imgs","faces","disableButton","direction","historyData","route","doneDisable","showStudents","flag","MyClasses","constructor","checkLoggedIn","data","sessionStorage","getItem","setState","checkAttendence","e","reader","FileReader","readAsDataURL","target","files","onload","event","image","Image","src","result","imgHeight","imgWidth","setData","img","file2","URL","createObjectURL","faceRecognition","value","setShowBtn","sendHistoryData","requestOptions","method","headers","body","JSON","stringify","state","baseUrl","document","getElementById","defaultValue","fetch","then","res","json","console","log","catch","date","Date","fullDate","getDate","getMonth","getFullYear","allStudents","className","clear","formdata","FormData","append","redirect","response","canvas","ctx","getContext","strokeStyle","fillStyle","lineWidth","drawImage","studetnsIDs","map","std","id","i","name","substring","indexOf","includes","probability","push","left","right","bottom","top","rectangle","Dim","space","parseInt","text","font","strokeRect","fillText","j","toLocaleString","dataURL","toDataURL","getImageURL","convertImageToURL","get","colorTable","error","row","style","backgroundColor","student","stdRow","CheckClass","cName","getAttribute","arr","forEach","element","id_number","firstName","lastName","editClass","back","showHistoryPage","showAllStudents","showAttendStudents","showAbcentStudents","onChangeRoute","timer","setTimeout","parse","componentDidMount","componentWillUnmount","componentDidUpdate","prevProps","prevState","blobBin","atob","split","array","length","charCodeAt","Blob","Uint8Array","type","imageName","getTime","upload","ref","put","on","snapshot","err","child","getDownloadURL","urll","concat","render","path","props","match","classInfo","rows","cs","_id","paddingRight","paddingLeft"],"mappings":"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","sourcesContent":["import { Button, Col, Row } from 'react-bootstrap';\nimport React, { Component } from 'react';\nimport noImage from '../noImage.png';\nimport StudentsTable from './StudentsTable';\nimport Details from './Details';\nimport History from './History';\nimport { storage } from '../firebase/index';\nimport EditClass from './EditClass';\nimport { Redirect, Route } from 'react-router-dom';\nimport './myClasses.css';\n\nconst initialState = {\n    file: null,\n    width: 0,\n    height: 0,\n    ids: [],\n    students: [],\n    absenceStudents: [],\n    attendStudents: [],\n    showImage: true,\n    showUploadBtn: false,\n    load: false,\n    hidePage: false,\n    classes: [],\n    selected_class: '',\n    imgs: [],\n    faces: [],\n    disableButton: false,\n    direction: 'check', // OR history , details , edit\n    historyData: {},\n    route: null,\n    doneDisable: true,\n    showStudents: [],\n    flag: 0\n}\nclass MyClasses extends Component {\n    constructor() {\n        super();\n        this.state = initialState;\n    }\n\n    // Get all the classes for the logged in teacher .\n    componentDidMount() {\n        if (this.checkLoggedIn()) {\n            let baseUrl = document.getElementById('baseUrl').defaultValue;\n            fetch(`${baseUrl}/teacherClasses?id=` + JSON.parse(sessionStorage.getItem('teacher')).id_number)\n                .then(res => res.json()).then(data => {\n                    this.setState({\n                        classes: data,\n\n                    })\n                })\n                .catch(e => console.log(e));\n        }\n    }\n    componentWillUnmount() {\n        this.setState({ flag: 0 })\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.flag !== 1) {\n            if (this.checkLoggedIn()) {\n                let baseUrl = document.getElementById('baseUrl').defaultValue;\n                fetch(`${baseUrl}/teacherClasses?id=` + JSON.parse(sessionStorage.getItem('teacher')).id_number)\n                    .then(res => res.json()).then(data => {\n                        this.setState({\n                            classes: data,\n                            flag: 1\n\n                        })\n                    })\n                    .catch(e => console.log(e));\n            }\n        }\n    }\n\n    //To Check if LoggedIn .\n    checkLoggedIn = () => {\n        const data = sessionStorage.getItem('teacher');\n        if (!data) {\n            this.setState({\n                route: '/login'\n            })\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n    // Will check the faces from the uploaded image .\n    checkAttendence = (e) => {\n        this.setState({\n            load: true,\n            doneDisable: true\n        });\n\n        //Create a reader to read an uploaded file .\n        let reader = new FileReader();\n        reader.readAsDataURL(e.target.files[0]);\n\n        reader.onload = (event) => {\n            //Get the uploaded image and store it in let image .\n            let image = new Image();\n            image.src = event.target.result;\n\n            //Create to letiable to store image width and height .\n            let imgHeight, imgWidth;\n            image.onload = async function () {\n                imgHeight = this.height;\n                imgWidth = this.width;\n\n                //The function will store width and height values in State . \n                setData();\n            }\n            let setData = () => {\n                this.setState({\n                    width: imgWidth,\n                    height: imgHeight\n                });\n            }\n        };\n\n        const img = e.target;\n        if (img) {\n            this.setState({\n                file2: e.target.files[0],\n                file: URL.createObjectURL(e.target.files[0])\n            })\n            this.faceRecognition(img.files[0]);\n        }\n        e.target.value = null;\n    }\n\n    // To show checkAttendence page .\n    setShowBtn = () => {\n        this.setState({\n            showUploadBtn: true\n        });\n    }\n\n    sendHistoryData = () => {\n        let requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                'ids': this.state.ids,\n                'imgs': this.state.imgs\n            }),\n        };\n        let baseUrl = document.getElementById('baseUrl').defaultValue;\n        fetch(`${baseUrl}/history/${this.state.selected_class}`, requestOptions)\n            .then(res => res.json())\n            .then(console.log)\n            .catch(e => { console.log(\"An Error occured while sending history Data ..\", e) });\n        let date = new Date();\n        let fullDate = date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n        let historyData = {\n            students: this.state.ids,\n            allStudents: this.state.students,\n            imgs: this.state.imgs,\n            className: this.state.selected_class,\n            date: fullDate\n        };\n        this.clear();\n        this.setState({\n            ids: [],\n            imgs: [],\n            selected_class: [],\n            historyData: historyData,\n            disableButton: true,\n            route: '/show/details',\n        })\n    }\n\n    // To detect faces from an image .\n    faceRecognition = (img) => {\n\n        let formdata = new FormData();\n        formdata.append(\"photo\", img, \"file\");\n\n        let requestOptions = {\n            method: 'POST',\n            body: formdata,\n            redirect: 'follow'\n        };\n\n\n        let baseUrl = document.getElementById('baseUrl').defaultValue;\n        fetch(`${baseUrl}/checkImage`, requestOptions)\n            .then(response => response.json())\n            .then(result => {\n\n                console.log(result);\n                //Define canvas to draw rectangle .\n                let canvas = document.getElementById('canvas');\n                let ctx = canvas.getContext('2d');\n\n                //Canvas properties .\n                ctx.strokeStyle = '#fcff04';\n                ctx.fillStyle = '#fcff04';\n                ctx.lineWidth = '3';\n\n                //Change the background of context to the uploaded image .\n                let image = document.getElementById('person');\n                ctx.drawImage(image, 0, 0);\n                let studetnsIDs = this.state.students.map(std => {\n                    return std.id\n                });\n                let { ids } = this.state;\n                for (let i in result) {\n                    let name = result[i].name.substring(0, result[i].name.indexOf('|'));\n                    let id = result[i].name.substring(result[i].name.indexOf('|') + 2);\n                    if (!studetnsIDs.includes(id)) {\n                        continue;\n                    }\n                    if (result[i].probability * 100 < 85) {\n                        continue;\n                    }\n\n                    if (!ids.includes(id)) {\n                        ids.push(id);\n                    }\n\n                    //Get the values of Rectangle .\n                    let { left, right, bottom, top } = result[i].rectangle;\n\n                    //Determine the width and hight for rectangle .\n                    let Dim = (right - left);\n\n                    //Determine font size and the space between rectangle and text .\n                    let space = parseInt(Dim / 3) + 2,\n                        text = `${space}px Carter One`;\n                    ctx.font = text;\n\n                    //Draw the rectangle .\n                    ctx.strokeRect(left, top, Dim, Dim);\n\n                    //Type the name of person .\n                    ctx.fillText(name, left, bottom + space);\n                }\n\n                let attendStudents = [];\n                let absenceStudents = [];\n                for (let i of this.state.students) {\n                    let flag = false;\n                    for (let j of this.state.ids) {\n                        if (i.id === j) {\n                            flag = true;\n                        }\n                    }\n                    if (flag) {\n                        attendStudents.push({\n                            id: i.id,\n                            name: i.name\n                        });\n                    }\n                    else {\n                        absenceStudents.push({\n                            id: i.id,\n                            name: i.name\n                        });\n                    }\n                }\n\n                this.setState({\n                    ids: ids,\n                    attendStudents,\n                    absenceStudents\n                    // imgs : [imagesLink]\n                });\n                let space = this.state.width / 20;\n                ctx.fillStyle = 'black';\n                let text = `${space}px serif`;\n                ctx.font = text;\n                ctx.fillText(new Date().toLocaleString(), (this.state.width / 2) - 5 * space, 50);\n                this.setState({ showImage: false });\n                // Store image in firebase ........\n                let dataURL = canvas.toDataURL(\"image/png\");\n                console.log(ids);\n                this.setState({\n                    file: dataURL\n                });\n\n                let formdata = this.getImageURL(dataURL);\n                this.convertImageToURL(formdata.get('image'));\n\n                console.log(\"Imgs : \", this.state.imgs);\n                this.colorTable(result);\n                this.setState({\n                    load: false\n                });\n\n            })\n            .catch(error => console.log('error', error));\n    };\n\n    getImageURL(dataURL) {\n        let blobBin = atob(dataURL.split(',')[1]);\n        let array = [];\n        for (let i = 0; i < blobBin.length; i++) {\n            array.push(blobBin.charCodeAt(i));\n        }\n        let file = new Blob([new Uint8Array(array)], { type: 'image/png' });\n        let formdata = new FormData();\n        formdata.append(\"image\", file);\n        return formdata;\n    }\n\n    convertImageToURL(image) {\n        if (image) {\n            let imageName = \"studentsImage\" + new Date().getTime();\n            const upload = storage.ref(`images/${imageName}`).put(image);\n            upload.on('state_changed',\n                (snapshot) => { },\n                (err) => {\n                    console.log(\"error while getting data from firebase.\\n\", err);\n                    return '';\n                },\n                () => {\n                    storage.ref('images').child(imageName).getDownloadURL().then(urll => {\n                        console.log(urll);\n\n                        let imgs = [].concat(this.state.imgs);\n                        imgs.push(urll);\n                        this.setState({\n                            imgs: imgs,\n                            doneDisable: false\n                        })\n                        return urll;\n                    })\n\n                })\n        }\n    }\n\n    // To change the row color according to the attendence .\n    colorTable = () => {\n        let { ids } = this.state;\n        for (let i of ids) {\n            let row = document.getElementById(i + \"\");\n            if (row) {\n                row.style.backgroundColor = '#178326a2';\n            }\n        }\n    }\n\n    // Clear data from upload image and recolor the table .\n    clear = () => {\n        this.setState({\n            showImage: true,\n            showUploadBtn: false,\n            ids: [],\n            imgs: []\n        });\n        document.getElementById(\"file2\").value = '';\n        let { students } = this.state;\n        for (let student of students) {\n            let stdRow = document.getElementById(student.id);\n            if (stdRow) {\n                stdRow.className = '';\n            }\n        }\n    }\n\n    // Get the student of each class .\n    CheckClass = (e) => {\n        let cName = e.target.getAttribute('data-class');\n        console.log(cName);\n        let arr = []\n        let { classes } = this.state;\n        classes.forEach(element => {\n            if (element.className === cName) {\n\n                element.students.forEach((std) => {\n                    arr.push({ id: std.id_number, name: std.firstName + \" \" + std.lastName })\n                })\n            }\n        });\n\n        console.log(arr, this.state.classes);\n\n\n        this.setState({\n            ids: [],\n            imgs: [],\n            students: arr,\n            hidePage: true,\n            showStudents: arr,\n            selected_class: cName,\n            route: '/show/classData'\n        })\n    }\n\n    editClass = () => {\n        this.setState({\n            direction: 'edit',\n            route: '/show/editClass'\n        });\n    }\n\n\n    // Back to the classes page .\n    back = () => {\n        this.setState({\n            hidePage: false,\n            route: '/show'\n        });\n        this.clear();\n    }\n\n    showHistoryPage = () => {\n        this.setState({\n            route: '/show/classHistory'\n        });\n    }\n\n    showAllStudents = () => {\n        let showStudents = this.state.students;\n        this.setState({\n            showStudents\n        });\n        this.colorTable();\n    }\n\n    showAttendStudents = () => {\n        let showStudents = this.state.attendStudents;\n        this.setState({\n            showStudents\n        });\n    }\n\n    showAbcentStudents = () => {\n        let showStudents = this.state.absenceStudents;\n        this.setState({\n            showStudents\n        });\n    }\n\n    onChangeRoute = (route, timer) => {\n        setTimeout(() => {\n            console.log(route, \"clicked\");\n            if (this.checkLoggedIn()) {\n                let baseUrl = document.getElementById('baseUrl').defaultValue;\n                fetch(`${baseUrl}/teacherClasses?id=` + JSON.parse(sessionStorage.getItem('teacher')).id_number)\n                    .then(res => res.json()).then(data => {\n                        this.setState({\n                            classes: data,\n                            route\n                        })\n                    })\n                    .catch(e => console.log(e));\n            }\n        }, timer);\n    }\n\n    render() {\n        let { path } = this.props.match;\n        let classInfo = {\n            'students': this.state.students,\n            'className': this.state.selected_class\n        };\n        let rows = this.state.classes.map((cs) => {\n            return (\n\n\n                <div\n                    onClick={this.CheckClass}\n                    key={cs._id}\n                    data-class={cs.className}\n                    data-student={cs.students}\n                    id={`class:${cs._id}`}\n                    className={`cont-card`}\n                >\n                    <div data-class={cs.className} className=\"inner-cont-card  large button card-front\">\n                        <p data-class={cs.className} >{cs.className}</p>\n                        <i data-class={cs.className} className=\"far fa-paper-plane icons\"></i>\n                    </div>\n\n                    <div data-class={cs.className} className=\"panel card-back\">\n\n                        <div data-class={cs.className} className=\"inner-cont-card hub-info\">\n                            <i data-class={cs.className} className=\"far mb-3 fa-edit icons\"></i>\n                            <p data-class={cs.className}>Contains <br /> <span data-class={cs.className} className=\"number-span\">{cs.students.length}</span> <br /> Students</p>\n                        </div>\n\n                    </div>\n                </div>\n\n\n\n\n            )\n        });\n\n\n\n\n        return (\n\n\n            <>\n                {this.state.route ? <Redirect to={this.state.route} /> : null}\n                <Route path={`${path}/editClass`} component={() => <EditClass classInfo={classInfo} onChangeRoute={this.onChangeRoute} />} />\n                <Route path={`${path}/classHistory`} component={() => <History selected_class={this.state.selected_class} onChangeRoute={this.onChangeRoute} />} />\n                <Route path={`${path}/details`} component={() => <Details historyData={this.state.historyData} onChangeRoute={this.onChangeRoute} backToHistory={false} />} />\n                <Route path={`${path}`} exact >\n                    <div className=\"container text-center\" >\n\n                        <section className=\"hero-unit\">\n\n                            <hgroup>\n                                <h2>Select A Class </h2>\n\n                            </hgroup>\n\n\n                            <div className=\"flip-cards\">\n\n                                {rows}\n                            </div>\n\n                        </section>\n\n                    </div>\n                </Route>\n                <Route path={`${path}/classData`}>\n                    <div className=\"bg--white\">\n                    </div>\n                    <div className=\"container\">\n\n                        <div class=\"loader\" hidden={!this.state.load}>\n                            <ul class=\"hexagon-container\">\n                                <li class=\"hexagon hex_1\"></li>\n                                <li class=\"hexagon hex_2\"></li>\n                                <li class=\"hexagon hex_3\"></li>\n                                <li class=\"hexagon hex_4\"></li>\n                                <li class=\"hexagon hex_5\"></li>\n                                <li class=\"hexagon hex_6\"></li>\n                                <li class=\"hexagon hex_7\"></li>\n                            </ul>\n                        </div>\n\n\n                        {/* buttons ,, top  */}\n                        <div className=\" d-flex justify-content-between btns\" style={{ paddingRight: '12%', paddingLeft: '12%' }}>\n                            <button hover-data=\"Back\"\n                                onClick={this.back} className=\"red-btn mt4 ma1 my-button\" hidden={this.state.load} >\n                                <i className=\"btn-icon far fa-arrow-alt-circle-left\"></i>\n                            </button>\n                            <div>\n                                <button hover-data=\"Edit Class\"\n                                    hidden={this.state.load} onClick={this.editClass} className=\" mt4 ma1 my-button \" >\n                                    <i className=\"btn-icon fas fa-users-cog\"></i>\n                                </button>\n                                <button hover-data=\"Class History\"\n                                    hidden={this.state.load} onClick={this.showHistoryPage} className=\" mt4 ma1 my-button\" >\n                                    <i className=\"btn-icon fas fa-history\"></i>\n                                </button>\n                            </div>\n                        </div>\n                        <div className=\"my-line2\" hidden={this.state.load}></div>\n                        {/* Face recognition */}\n                        <Row hidden={this.state.load}>\n                            <Col xs={12}>\n                                <button hidden={this.state.showUploadBtn} onClick={this.setShowBtn} className=\"my-button mt-4\">Check Attendence</button>\n                                <div hidden={!this.state.showUploadBtn}>\n\n                                    <p hidden={!this.state.showImage} className=\"mt-5 f3 b i upload-text\">Upload one or more image to take the attendance, Then click on <span className='red f3'>'Done'</span> Button.</p>\n\n                                    <label htmlFor=\"file2\" className=\"mt-3 my-button pointer\">{(this.state.ids.length === 0) ? 'Upload An Image ' : 'Upload Another Image '} <i class=\" fas fa-cloud-upload-alt\"></i>   </label>\n                                    <input type=\"file\" hidden onChange={this.checkAttendence} accept=\"image/*\" id=\"file2\" className=\"form-file mt-4 \" required />\n                                    <br />\n\n                                    {/* Image will display the uploaded image , we use it to draw it on canvas . */}\n                                    <img hidden id=\"person\" src={this.state.file} alt=\"Person\" />\n\n                                    {/* Canvas will draw the image , rectangles and names . */}\n                                    <canvas id=\"canvas\" width={this.state.width} height={this.state.height} hidden></canvas>\n\n                                    {/* The final result will be shown on the img below , that we can edit it's width and height . */}\n                                    <img className=\"img-thumbnail mt-4\" src={this.state.file || noImage} alt=\"Person\" width=\"300\" height='300' hidden={this.state.showImage} />\n                                    <br />\n\n\n                                    <div className=\"table-buttons2\">\n                                        <button hidden={this.state.showImage} onClick={this.clear} className=\"my-button grow red-btn\"><i class=\"fas fa-trash-alt\"></i></button>\n                                        <button hidden={this.state.showImage} className=\"my-button  grow\"><a href={`${this.state.file}`} download></a> <i class=\"fas fa-download\"></i> </button>\n                                        <button hidden={this.state.showImage} onClick={this.sendHistoryData} disabled={this.state.doneDisable} className=\"my-button grn-btn grow \">Done</button>\n                                    </div>\n\n\n\n\n\n                                </div>\n                            </Col>\n                        </Row>\n\n                        <div className=\"my-line\" hidden={this.state.load}></div>\n                        {/* Student table */}\n                        <Row hidden={this.state.load} className=\"mt5\">\n                            <Col xs={12} >\n                                <h3 className=\"mt-2 table-header\" >Student of the course</h3>\n                                <StudentsTable students={this.state.showStudents} />\n                                <div className=\"table-buttons\">\n                                    <button onClick={this.showAllStudents} className=\"my-button grow\">All Students</button>\n                                    <button onClick={this.showAttendStudents} className=\"my-button grn-btn grow\">Attendance Students</button>\n                                    <button onClick={this.showAbcentStudents} className=\"my-button grow red-btn\">Absence Students</button>\n                                </div>\n                            </Col>\n                        </Row>\n                    </div>\n                </Route>\n\n\n            </>);\n    }\n}\nexport default MyClasses;\n"]},"metadata":{},"sourceType":"module"}