{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\n\nclass CreateClass extends Component {\n  constructor() {\n    super();\n\n    this.next = () => {\n      this.setState({\n        isClickedNext: true\n      });\n    };\n\n    this.listPerson = () => {\n      // const proxi = 'https://cors-anywhere.herokuapp.com/';\n      const url = 'https://api.luxand.cloud/subject'; // const fullUrl = proxi + url;\n\n      fetch(url, {\n        \"async\": true,\n        \"crossDomain\": true,\n        'method': 'GET',\n        'headers': {\n          \"token\": \"0ed0d51e90cc4f3ab510a564cfb94b60\"\n        },\n        \"data\": {}\n      }).then(res => res.json()).then(console.log) // display names all persons.. \n      .catch(err => console.log('error fetch'));\n    };\n\n    this.setImage = e => {\n      // triggers when select images\n      const file = e.target;\n\n      if (file.files.length === 3) {\n        this.createPerson(file); //create the first image and add to it the 2 other images \n      }\n    };\n\n    this.addFace = (file, id) => {\n      var myHeaders = new Headers();\n      myHeaders.append(\"token\", \"0ed0d51e90cc4f3ab510a564cfb94b60\");\n      var formdata = new FormData();\n      formdata.append(\"photo\", file, \"file\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: formdata,\n        redirect: 'follow'\n      };\n      fetch(`https://api.luxand.cloud/subject/${id}`, requestOptions) // id of the person ..\n      .then(response => response.json()).then(result => console.log(result)).catch(error => console.log('error add face fetch', error));\n    };\n\n    this.state = {\n      isClickedNext: false,\n      image: null,\n      url: ''\n    };\n  } //for hide class name input and show the add new student and done \n\n\n  componentDidMount() {\n    this.listPerson();\n  }\n\n  //create new person\n  createPerson(file) {\n    // check if the name is exist or not ?\n    let stName = document.getElementById('stName').value;\n\n    if (stName) {\n      //check the name in database.\n      var myHeaders = new Headers();\n      myHeaders.append(\"token\", '0ed0d51e90cc4f3ab510a564cfb94b60');\n      var formdata = new FormData();\n      formdata.append(\"name\", stName);\n      formdata.append(\"photo\", file.files[0], \"file\"); //first image\n\n      formdata.append(\"store\", \"1\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: formdata,\n        redirect: 'follow'\n      };\n      fetch(\"https://api.luxand.cloud/subject/v2\", requestOptions).then(response => response.json()).then(result => {\n        let id = result.id; // get the id for add faces to the same person.\n\n        this.addFace(file.files[1], id); //add second and third images to the same person\n\n        this.addFace(file.files[2], id); //add second and third images to the same person\n\n        console.log(result); //alert .. added successfully\n      }).catch(error => console.log('error fetching', error));\n    }\n  }\n\n  render() {\n    const {\n      isClickedNext\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3 bg-black-10 shadow-5 p-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, isClickedNext === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"Add Class\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Class Name\",\n      className: \"form-input mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.next,\n      id: \"submit\",\n      className: \"btn f3 grow btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Next\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }, \"Add Student\"), /*#__PURE__*/React.createElement(\"select\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 33\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 33\n      }\n    }, \"4\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.setImage,\n      multiple: true,\n      accept: \"image/*\",\n      id: \"file2\",\n      placeholder: \"Student Major ..\",\n      className: \"form-file mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      id: \"submit\",\n      onClick: this.listPerson,\n      className: \"btn f3 grow btn-danger btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, \"Add Student\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"submit\",\n      className: \"btn f3 grow btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }, \"Done\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 115\n      }\n    }))));\n  }\n\n}\n\nexport default CreateClass;","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js"],"names":["React","Component","Button","CreateClass","constructor","next","setState","isClickedNext","listPerson","url","fetch","then","res","json","console","log","catch","err","setImage","e","file","target","files","length","createPerson","addFace","id","myHeaders","Headers","append","formdata","FormData","requestOptions","method","headers","body","redirect","response","result","error","state","image","componentDidMount","stName","document","getElementById","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\n\nclass CreateClass extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isClickedNext: false,\n            image: null,\n            url: ''\n        }\n    }\n\n    //for hide class name input and show the add new student and done \n    next = () => {\n        this.setState({ isClickedNext: true });\n    }\n\n\n    listPerson = () => {\n        // const proxi = 'https://cors-anywhere.herokuapp.com/';\n        const url = 'https://api.luxand.cloud/subject'\n        // const fullUrl = proxi + url;\n        fetch(url, {\n            \"async\": true,\n            \"crossDomain\": true,\n            'method': 'GET',\n            'headers': {\n                \"token\": \"0ed0d51e90cc4f3ab510a564cfb94b60\"\n            },\n            \"data\": {}\n        }).then(res => res.json())\n            .then(console.log)          // display names all persons.. \n            .catch(err => console.log('error fetch'));\n    }\n\n\n\n    componentDidMount() {\n        this.listPerson();\n    }\n\n\n\n    setImage = (e) => { // triggers when select images\n        const file=e.target;\n        if (file.files.length === 3) {\n            this.createPerson(file); //create the first image and add to it the 2 other images \n        }\n    }\n\n\n\n    //add faces to exist person\n    addFace = (file,id) => {\n        var myHeaders = new Headers();\n        myHeaders.append(\"token\", \"0ed0d51e90cc4f3ab510a564cfb94b60\");\n\n        var formdata = new FormData();\n        formdata.append(\"photo\", file, \"file\");\n\n        var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: formdata,\n            redirect: 'follow'\n        };\n\n        fetch(`https://api.luxand.cloud/subject/${id}`, requestOptions) // id of the person ..\n            .then(response => response.json())\n            .then(result => console.log(result))\n            .catch(error => console.log('error add face fetch', error));\n    }\n\n    //create new person\n    createPerson(file) {\n        // check if the name is exist or not ?\n        let stName=document.getElementById('stName').value; \n        \n\n        if(stName){ //check the name in database.\n\n\n        \n        var myHeaders = new Headers();\n        myHeaders.append(\"token\", '0ed0d51e90cc4f3ab510a564cfb94b60');\n\n        var formdata = new FormData();\n        formdata.append(\"name\", stName);\n        formdata.append(\"photo\", file.files[0], \"file\");//first image\n        formdata.append(\"store\", \"1\");\n\n        var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: formdata,\n            redirect: 'follow'\n        };\n\n        fetch(\"https://api.luxand.cloud/subject/v2\", requestOptions)\n            .then(response => response.json())\n            .then(result => {\n                let id = result.id; // get the id for add faces to the same person.\n                this.addFace(file.files[1],id); //add second and third images to the same person\n                this.addFace(file.files[2],id);//add second and third images to the same person\n                console.log(result)\n                //alert .. added successfully\n            })\n            .catch(error => console.log('error fetching', error));\n        }\n    }\n\n\n    render() {\n        const { isClickedNext } = this.state;\n        return (\n            <>\n\n                <div className=\"mt-3 bg-black-10 shadow-5 p-5 \">\n                    {isClickedNext === false ? \n                    <>\n                        <h1 className=\"main-title\">Add Class</h1>\n                        <input type=\"text\" placeholder=\"Class Name\" className=\"form-input mt-4\" />\n                        <br />\n                        <Button onClick={this.next} id='submit' className=\"btn f3 grow btn-success btn-submit mt-4\" >Next</Button>\n                    </>\n                        :\n                    <>\n                            <h1 className=\"main-title\">Add Student</h1>\n                            <select >\n                                <option>1</option>\n                                <option>2</option>\n                                <option>3</option>\n                                <option>4</option>\n                            </select>\n                            <br />\n                            <input type=\"file\" onChange={this.setImage} multiple accept=\"image/*\" id=\"file2\" placeholder=\"Student Major ..\" className=\"form-file mt-4\" required />\n                            <br />\n\n                            <Button id='submit' onClick={this.listPerson} className=\"btn f3 grow btn-danger btn-submit mt-4\" >Add Student</Button>\n                            <Button id='submit' className=\"btn f3 grow btn-success btn-submit mt-4\" >Done</Button><br />\n                    </>}\n\n                </div>\n            </>);\n    }\n}\n\nexport default CreateClass;\n\n\n\n"]},"metadata":{},"sourceType":"module"}