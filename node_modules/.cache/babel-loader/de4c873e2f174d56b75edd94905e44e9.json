{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/Login.js\";\nimport React from 'react';\nimport { Component } from 'react';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.checkId = event => {\n      event.preventDefault();\n      const form = document.getElementById('signInForm');\n      let user = {\n        id: form.teacherId.value,\n        password: form.teacherPassword.value\n      };\n      checkTheUserData(user).then(userData => {\n        if (isUserLoggedIn(userData)) {\n          storedUserInSession(userData);\n          goToHomePage();\n        } else {\n          alert(\"ID OR Password is wrong! \\n try again..\");\n        }\n      }).catch(e => {\n        console.log(\"error during send user data to backend within the sign in page.\");\n      });\n    };\n\n    this.resetPassHandler = () => {};\n\n    this.showResetForm = () => {\n      this.setState({\n        isForgotClicked: true\n      });\n    };\n\n    this.getAccessToken = e => {\n      e.preventDefault();\n      this.setState({\n        showSentToken: true\n      });\n    };\n\n    this.state = {\n      isForgotClicked: false,\n      showSentToken: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      hidden: this.state.isForgotClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, \"Login Page\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"mt-3\",\n      id: \"signInForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"teacherId\",\n      type: \"text\",\n      placeholder: \"Teacher ID ..\",\n      className: \"form-input mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"teacherPassword\",\n      type: \"password\",\n      placeholder: \"Password..\",\n      className: \"form-input mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit\",\n      onClick: this.checkId,\n      value: \"Login\",\n      className: \"btn btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"f6 b i red pointer underline ma3\",\n      onClick: this.showResetForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, \"Forgot Password?\")), /*#__PURE__*/React.createElement(\"div\", {\n      hidden: !this.state.isForgotClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"main-title ma3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Reset Password\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"mt-3\",\n      id: \"resetPassForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      hidden: this.state.showSentToken,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email..\",\n      className: \"form-input mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"newPass\",\n      type: \"password\",\n      placeholder: \"Your New Password\",\n      className: \"form-input mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      onClick: this.getAccessToken,\n      value: \"Send Token\",\n      className: \"btn btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      hidden: !this.state.showSentToken,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"token\",\n      type: \"text\",\n      placeholder: \"Access Token..\",\n      className: \"form-input mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      onClick: this.getAccessToken,\n      value: \"Send Token\",\n      className: \"btn btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    })))));\n  }\n\n}\n\nexport default Login; //helper functions:\n\nfunction isUserLoggedIn(userData) {\n  if (userData.length === 1) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction storedUserInSession(userData) {\n  const {\n    firstName,\n    lastName,\n    id_number\n  } = userData[0];\n  const storedData = {\n    firstName,\n    lastName,\n    id_number\n  };\n  sessionStorage.setItem('teacher', JSON.stringify(storedData));\n}\n\nfunction goToHomePage() {\n  window.location.replace(\"http://localhost:3001\");\n}\n\nfunction checkTheUserData(user) {\n  return fetch('http://localhost:3000/loginTeacher', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(res => res.json());\n}","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/Login.js"],"names":["React","Component","Login","constructor","checkId","event","preventDefault","form","document","getElementById","user","id","teacherId","value","password","teacherPassword","checkTheUserData","then","userData","isUserLoggedIn","storedUserInSession","goToHomePage","alert","catch","e","console","log","resetPassHandler","showResetForm","setState","isForgotClicked","getAccessToken","showSentToken","state","render","length","firstName","lastName","id_number","storedData","sessionStorage","setItem","JSON","stringify","window","location","replace","fetch","method","headers","body","res","json"],"mappings":"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","sourcesContent":["import React from 'react' ;\nimport { Component } from 'react';\n\nclass Login extends Component{\n    constructor(){\n        super();\n        this.state = {\n            isForgotClicked: false,\n            showSentToken: false\n        }\n    }\n\n    checkId=(event)=>{\n\n        event.preventDefault();\n        const form = document.getElementById('signInForm');\n        let user= {id: form.teacherId.value , password:form.teacherPassword.value };\n\n          checkTheUserData(user)\n          .then(userData=>{\n\n            if(isUserLoggedIn(userData)){\n                storedUserInSession(userData);\n                goToHomePage();   \n            }\n            else{\n                alert(\"ID OR Password is wrong! \\n try again..\")\n            }\n\n        })\n        .catch(e=>{console.log(\"error during send user data to backend within the sign in page.\")});    \n    }\n\n    resetPassHandler = ()=>{\n        \n    }\n\n    showResetForm = ()=>{\n        this.setState({isForgotClicked:true});\n    }\n\n    getAccessToken=(e)=>{\n        e.preventDefault();\n        this.setState({showSentToken:true});\n    }\n\n    render() {\n        return(\n            <>\n            <div hidden={this.state.isForgotClicked}>\n                <h1 className=\"main-title\">Login Page</h1>\n                <form className=\"mt-3\" id='signInForm' >\n                    <input name='teacherId' type=\"text\" placeholder=\"Teacher ID ..\" className=\"form-input mt-4\" required/>\n                    <br/>\n                    <input name='teacherPassword' type=\"password\" placeholder=\"Password..\" className=\"form-input mt-4\" required/>\n                    <br />\n                    <input type=\"submit\" id='submit' onClick={this.checkId} value=\"Login\" className=\"btn btn-success btn-submit mt-4\"/>\n                </form>\n                <p className=\"f6 b i red pointer underline ma3\" onClick={this.showResetForm} >Forgot Password?</p>\n            </div>\n            <div hidden={! this.state.isForgotClicked}>\n                <h2 className=\"main-title ma3\" >Reset Password</h2>\n                <form  className=\"mt-3\" id='resetPassForm' >\n                    <div hidden={this.state.showSentToken}>\n                        <input name='email' type=\"email\" placeholder=\"Email..\" className=\"form-input mt-4\" required/>\n                        <br/>\n                        <input name='newPass' type=\"password\" placeholder=\"Your New Password\" className=\"form-input mt-4\" required/>\n                        <br/>\n\n                        <input type=\"submit\"  onClick={this.getAccessToken} value=\"Send Token\" className=\"btn btn-success btn-submit mt-4\"/>\n                    </div>\n                    <div hidden={ ! this.state.showSentToken}>\n                        <input name='token' type=\"text\" placeholder=\"Access Token..\" className=\"form-input mt-4\" required/>\n                        <br/>\n                        <input type=\"submit\"  onClick={this.getAccessToken} value=\"Send Token\" className=\"btn btn-success btn-submit mt-4\"/>\n                    </div>\n                </form>\n                \n                \n            </div>\n            </>\n        );\n    }\n}\nexport default Login\n\n\n\n//helper functions:\n\n\nfunction isUserLoggedIn (userData){\n    if(userData.length===1){\n        return true;\n    }\n    return false;\n}\n\nfunction storedUserInSession(userData){\n    const {firstName,lastName,id_number} = userData[0];\n    const storedData = {firstName,lastName,id_number};\n    sessionStorage.setItem('teacher',JSON.stringify(storedData));\n}\n\nfunction goToHomePage(){\n    window.location.replace(\"http://localhost:3001\");\n}\n\nfunction checkTheUserData(user){\n    return fetch('http://localhost:3000/loginTeacher',{\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(user),\n    })\n    .then(res => res.json())\n\n}"]},"metadata":{},"sourceType":"module"}