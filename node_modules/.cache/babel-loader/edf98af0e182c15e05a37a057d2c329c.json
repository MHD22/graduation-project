{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport './CreateClass.css';\nimport { Redirect } from \"react-router-dom\";\nimport AddStudents from './AddStudents';\n\nclass CreateClass extends Component {\n  constructor() {\n    super();\n\n    this.checkLoggedIn = () => {\n      const data = sessionStorage.getItem('teacher');\n\n      if (!data) {\n        this.setState({\n          route: '/login'\n        });\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.next = e => {\n      this.setState({\n        isClickedNext: true\n      });\n    };\n\n    this.handleFilter = event => {\n      this.setState({\n        search: event.target.value\n      });\n    };\n\n    this.courseName = e => {\n      let cName = e.target.value;\n      console.log(cName);\n      this.setState({\n        courseName: cName\n      });\n    };\n\n    this.handleClose = e => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.done = e => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.state = {\n      isClickedNext: false,\n      image: null,\n      url: '',\n      search: '',\n      students: [],\n      addedStdID: [],\n      addedStdFName: [],\n      addedStdLName: [],\n      courseName: '',\n      show: false,\n      title: '',\n      body: '',\n      redirect: false,\n      route: null\n    };\n  } //To Check if LoggedIn .\n\n\n  componentDidMount() {\n    if (this.checkLoggedIn()) {\n      fetch('http://localhost:3000/students').then(res => res.json()).then(data => {\n        this.setState({\n          students: data\n        }, () => {\n          console.log(this.state.students);\n        });\n      }).catch(e => console.log(e));\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/show\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const {\n      isClickedNext\n    } = this.state;\n    let filteredArray = this.state.students.filter(std => {\n      return `${std.fname} ${std.lname} ${std.id}`.toLowerCase().includes(this.state.search.toLowerCase());\n    });\n\n    if (this.state.addedStdID.length !== 0) {\n      this.state.addedStdID.forEach(id => {\n        let name = document.getElementById(id + 'label');\n\n        if (name !== null) {\n          name.style.background = \"#004d1a\";\n        }\n      });\n    }\n\n    filteredArray = filteredArray.map((std, i) => {\n      return /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: std.id,\n        id: std.id + 'label',\n        key: std.id,\n        \"data-name\": std.fname,\n        className: \"student\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 16\n        }\n      }, std.fname + ' ' + std.lname + ' | ' + std.id, \" \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        \"data-fname\": std.fname,\n        \"data-lname\": std.lname,\n        value: std.id,\n        id: std.id,\n        onChange: this.addStudent,\n        className: \"check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 164\n        }\n      }));\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.route ? /*#__PURE__*/React.createElement(Redirect, {\n      to: this.state.route,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 36\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3 bg-black-10 shadow-5 p-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, isClickedNext === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, \"Add Class\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Class Name\",\n      onChange: this.courseName,\n      className: \"form-input mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.next,\n      id: \"submit\",\n      className: \"btn f3 grow btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, \"Next\")) : /*#__PURE__*/React.createElement(AddStudents, {\n      createNew: true,\n      courseName: this.state.courseName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}\n\nexport default CreateClass;","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js"],"names":["React","Component","Button","Redirect","AddStudents","CreateClass","constructor","checkLoggedIn","data","sessionStorage","getItem","setState","route","next","e","isClickedNext","handleFilter","event","search","target","value","courseName","cName","console","log","handleClose","show","done","redirect","state","image","url","students","addedStdID","addedStdFName","addedStdLName","title","body","componentDidMount","fetch","then","res","json","catch","render","filteredArray","filter","std","fname","lname","id","toLowerCase","includes","length","forEach","name","document","getElementById","style","background","map","i","addStudent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport './CreateClass.css';\nimport { Redirect } from \"react-router-dom\";\nimport AddStudents from './AddStudents';\n\nclass CreateClass extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isClickedNext: false,\n            image: null,\n            url: '',\n            search:'' ,\n            students:[],\n            addedStdID : [] ,\n            addedStdFName : [] ,\n            addedStdLName : [] ,\n            courseName : '' ,\n            show : false ,\n            title : '' ,\n            body : '' ,\n            redirect : false,\n            route:null\n        }\n    }\n\n    //To Check if LoggedIn .\n    checkLoggedIn = () => {\n        const data = sessionStorage.getItem('teacher') ;\n        if(!data){\n            this.setState({route:'/login'});\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n    //for hide class name input and show the add new student and done \n    next = (e) => {\n        this.setState({ isClickedNext: true});\n    }\n\n    componentDidMount() {\n        if(this.checkLoggedIn()){\n            fetch('http://localhost:3000/students')\n            .then(res=> res.json()).then(data=>{\n                this.setState({students:data} , ()=>{console.log(this.state.students)});\n            })\n            .catch(e=>console.log(e));\n        }\n    }\n\n    handleFilter=(event)=>{\n        this.setState({search:event.target.value});\n    }\n\n    courseName = (e) => {\n        let cName = e.target.value ;\n        console.log(cName) ;\n        this.setState({\n            courseName : cName\n        })\n    }\n\n    \n\n    handleClose = (e) => {\n        this.setState({\n            show : false \n        });\n    }\n\n    done = (e) => {\n        this.setState({\n            redirect : true\n        });\n    }\n\n    render() {\n\n        if(this.state.redirect){\n            return <Redirect to='/show'/>;\n        }\n\n        const { isClickedNext } = this.state;\n\n\n        let filteredArray = this.state.students.filter( (std)=>{\n            return (`${std.fname} ${std.lname} ${std.id}`).toLowerCase().includes(this.state.search.toLowerCase());\n        });\n        if (this.state.addedStdID.length !== 0){\n        \n        this.state.addedStdID.forEach((id) => {\n            let name = document.getElementById(id + 'label') ;\n            if(name !== null){\n            name.style.background = \"#004d1a\";\n            }\n            \n        })\n    }\n        filteredArray = filteredArray.map((std , i)=>{\n        return <label htmlFor={std.id} id={std.id + 'label'} key={std.id} data-name={std.fname} className=\"student\">{std.fname + ' ' + std.lname + ' | ' + std.id} <input type=\"checkbox\" data-fname={std.fname} data-lname={std.lname} value={std.id} id={std.id} onChange={this.addStudent} className=\"check\"/></label>\n    })\n      \n        return (\n            <>\n                {this.state.route? <Redirect to={this.state.route}/>:null}\n                <div className=\"mt-3 bg-black-10 shadow-5 p-5 \">\n                    {isClickedNext === false ? \n                    <>\n                        <h1 className=\"main-title\">Add Class</h1>\n                        <input type=\"text\" placeholder=\"Class Name\" onChange={this.courseName} className=\"form-input mt-4\" required />\n                        <br />\n                        <Button onClick={this.next} id='submit' className=\"btn f3 grow btn-success btn-submit mt-4\">Next</Button>\n                    </>\n                        :\n                        <AddStudents createNew={true} courseName={this.state.courseName}/>\n                    }\n                </div>\n            </>);\n    }\n}\n\nexport default CreateClass;\n\n\n\n"]},"metadata":{},"sourceType":"module"}