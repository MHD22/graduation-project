{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/Login.js\";\nimport React from 'react';\n\nfunction Login() {\n  const checkId = event => {\n    event.preventDefault();\n    const form = document.getElementById('signInForm');\n    let user = {\n      id: form.teacherId.value,\n      password: form.teacherPassword.value\n    };\n    checkTheUserData(user).then(userData => {\n      if (isUserLoggedIn(userData)) {\n        storedUserInSession(userData);\n        goToHomePage();\n      } else {\n        alert(\"ID OR Password is wrong! \\n try again..\");\n      }\n    }).catch(e => {\n      console.log(\"error during send user data to backend within the sign in page.\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"main-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, \"Login Page\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"mt-3\",\n    id: \"signInForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"teacherId\",\n    type: \"text\",\n    placeholder: \"Teacher ID ..\",\n    className: \"form-input mt-4\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"teacherPassword\",\n    type: \"password\",\n    placeholder: \"Password..\",\n    className: \"form-input mt-4\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    id: \"submit\",\n    onClick: checkId,\n    value: \"Login\",\n    className: \"btn btn-success btn-submit mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"f6 b i red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, \"Forgot Pass\"));\n}\n\nexport default Login; //helper functions:\n\nfunction isUserLoggedIn(userData) {\n  if (userData.length === 1) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction storedUserInSession(userData) {\n  const {\n    firstName,\n    lastName,\n    id_number\n  } = userData[0];\n  const storedData = {\n    firstName,\n    lastName,\n    id_number\n  };\n  sessionStorage.setItem('teacher', JSON.stringify(storedData));\n}\n\nfunction goToHomePage() {\n  window.location.replace(\"http://localhost:3001\");\n}\n\nfunction checkTheUserData(user) {\n  return fetch('http://localhost:3000/loginTeacher', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(res => res.json());\n}","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/Login.js"],"names":["React","Login","checkId","event","preventDefault","form","document","getElementById","user","id","teacherId","value","password","teacherPassword","checkTheUserData","then","userData","isUserLoggedIn","storedUserInSession","goToHomePage","alert","catch","e","console","log","length","firstName","lastName","id_number","storedData","sessionStorage","setItem","JSON","stringify","window","location","replace","fetch","method","headers","body","res","json"],"mappings":"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","sourcesContent":["import React from 'react' ;\n\nfunction Login(){\n\n    const checkId=(event)=>{\n\n        event.preventDefault();\n        const form = document.getElementById('signInForm');\n        let user= {id: form.teacherId.value , password:form.teacherPassword.value };\n\n          checkTheUserData(user)\n          .then(userData=>{\n\n            if(isUserLoggedIn(userData)){\n                storedUserInSession(userData);\n                goToHomePage();   \n            }\n            else{\n                alert(\"ID OR Password is wrong! \\n try again..\")\n            }\n\n        })\n        .catch(e=>{console.log(\"error during send user data to backend within the sign in page.\")});    \n    };\n    return(\n        <>\n        <h1 className=\"main-title\">Login Page</h1>\n        <form className=\"mt-3\" id='signInForm' >\n            <input name='teacherId' type=\"text\" placeholder=\"Teacher ID ..\" className=\"form-input mt-4\" required/>\n            <br/>\n            <input name='teacherPassword' type=\"password\" placeholder=\"Password..\" className=\"form-input mt-4\" required/>\n            <br />\n            <input type=\"submit\" id='submit' onClick={checkId} value=\"Login\" className=\"btn btn-success btn-submit mt-4\"/>\n        </form>\n        <p className=\"f6 b i red\">Forgot Pass</p>\n        </>\n    );\n}\nexport default Login\n\n\n\n//helper functions:\n\nfunction isUserLoggedIn (userData){\n    if(userData.length===1){\n        return true;\n    }\n    return false;\n}\n\nfunction storedUserInSession(userData){\n    const {firstName,lastName,id_number} = userData[0];\n    const storedData = {firstName,lastName,id_number};\n    sessionStorage.setItem('teacher',JSON.stringify(storedData));\n}\n\nfunction goToHomePage(){\n    window.location.replace(\"http://localhost:3001\");\n}\n\nfunction checkTheUserData(user){\n    return fetch('http://localhost:3000/loginTeacher',{\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(user),\n    })\n    .then(res => res.json())\n\n}"]},"metadata":{},"sourceType":"module"}