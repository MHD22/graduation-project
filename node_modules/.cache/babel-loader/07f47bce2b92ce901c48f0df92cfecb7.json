{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/History.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport Details from './Details';\n\nclass History extends Component {\n  constructor() {\n    super();\n\n    this.renderTable = () => {\n      let historyData = this.state.history;\n      let rows = historyData.map((history, ind) => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: ind,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          className: \"f3 \",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 21\n          }\n        }, history.date), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn f4 btn-dark shadow btn-submit grow \",\n          onClick: () => {\n            this.showDitails(history._id);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }\n        }, \"showDetails\")));\n      });\n      return rows;\n    };\n\n    this.showDitails = classID => {\n      let history = this.state.history;\n      history.forEach(hist => {\n        if (classID === hist._id) {\n          this.setState({\n            students: hist.students,\n            imgs: hist.images,\n            date: hist.date,\n            showDitails: true,\n            route: '/show/details'\n          });\n        }\n      });\n    };\n\n    this.state = {\n      history: [],\n      students: [],\n      allStudents: [],\n      imgs: [],\n      date: '',\n      showDitails: false,\n      route: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.selected_class, \"aaaaa\");\n    let url = `http://localhost:3000/classHistory/${this.props.selected_class}`;\n    fetch(url).then(response => response.json()).then(classData => {\n      let allStudents = classData.students.map(std => {\n        return {\n          id: std.id_number,\n          name: std.firstName + ' ' + std.lastName\n        };\n      });\n      this.setState({\n        history: classData.history,\n        allStudents: allStudents\n      });\n    }).catch(e => {\n      console.log(\"error while getting history data \\n\", e);\n    });\n  }\n\n  render() {\n    let rows = this.renderTable();\n    let {\n      students,\n      allStudents,\n      imgs,\n      date\n    } = this.state;\n    let className = this.props.selected_class;\n    let historyData = {\n      students,\n      allStudents,\n      imgs,\n      date,\n      className\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n      path: `show/details`,\n      component: () => /*#__PURE__*/React.createElement(Details, {\n        historyData: historyData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 62\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: `show/classHistory`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"text-dark f2\",\n      style: {\n        fontFamily: 'Lobster',\n        letterSpacing: '2px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }, \"Details\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      id: \"body\",\n      style: {\n        fontFamily: 'Acme',\n        color: 'gray'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, rows)))));\n  }\n\n}\n\nexport default History;","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/History.js"],"names":["React","Component","Route","Details","History","constructor","renderTable","historyData","state","history","rows","map","ind","date","showDitails","_id","classID","forEach","hist","setState","students","imgs","images","route","allStudents","componentDidMount","console","log","props","selected_class","url","fetch","then","response","json","classData","std","id","id_number","name","firstName","lastName","catch","e","render","className","width","fontFamily","letterSpacing","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport Details from './Details';\n\n\nclass History extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            history: [],\n            students: [],\n            allStudents:[],\n            imgs: [],\n            date: '',\n            showDitails: false,\n            route:null\n        }\n    }\n    componentDidMount() {\n        console.log(this.props.selected_class,\"aaaaa\");\n        let url = `http://localhost:3000/classHistory/${this.props.selected_class}`;\n        fetch(url)\n            .then(response => response.json())\n            .then(classData => {\n                let allStudents = classData.students.map(std=>{\n                    return { id:std.id_number,\n                            name:std.firstName + ' ' + std.lastName}\n                })\n                this.setState({ \n                    history: classData.history ,\n                    allStudents: allStudents\n                });\n            })\n            .catch(e => { console.log(\"error while getting history data \\n\", e) });\n    }\n    renderTable = () => {\n        let historyData = this.state.history;\n        let rows = historyData.map((history, ind) => {\n            return (\n                <tr key={ind}>\n                    <td className=\"f3 \">{history.date}</td>\n                    <td><button className=\"btn f4 btn-dark shadow btn-submit grow \" onClick={() => { this.showDitails(history._id) }}>showDetails</button></td>\n                </tr>\n            )\n        });\n        return rows;\n    }\n    showDitails = (classID) => {\n        let history = this.state.history;\n        history.forEach(hist => {\n            if (classID === hist._id) {\n                this.setState({\n                    students: hist.students,\n                    imgs: hist.images,\n                    date: hist.date,\n                    showDitails:true,\n                    route: '/show/details'\n                })\n            }\n        })\n\n    }\n    render() {\n        let rows = this.renderTable();\n        let {students, allStudents, imgs, date} = this.state;\n        let className = this.props.selected_class;\n        \n        let historyData={students, allStudents, imgs, date, className};\n        return (\n            <>\n                <Route path={`show/details`} component={()=> <Details historyData={historyData}/>} />\n                <Route path={`show/classHistory`}/>\n                <>\n                    <div className=\"table-responsive mt-3\">\n                        <table className=\"table table-bordered\" style={{ width: '100%' }}>\n                            <thead className=\"text-dark f2\" style={{ fontFamily: 'Lobster', letterSpacing: '2px' }}>\n                                <tr>\n                                    <th>Date</th>\n                                    <th>Details</th>\n                                </tr>\n                            </thead>\n                            <tbody id='body' style={{ fontFamily: 'Acme', color: 'gray' }}>\n                                {rows}\n                            </tbody>\n                        </table>\n                    </div>\n                </>\n                \n            </>\n        )\n    }\n}\nexport default History;"]},"metadata":{},"sourceType":"module"}