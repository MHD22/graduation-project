{"ast":null,"code":"var _jsxFileName = \"/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport './CreateClass.css';\n\nclass CreateClass extends Component {\n  constructor() {\n    super();\n\n    this.next = () => {\n      this.setState({\n        isClickedNext: true\n      });\n    };\n\n    this.listPerson = () => {\n      // const proxi = 'https://cors-anywhere.herokuapp.com/';\n      const url = 'https://api.luxand.cloud/subject'; // const fullUrl = proxi + url;\n\n      fetch(url, {\n        \"async\": true,\n        \"crossDomain\": true,\n        'method': 'GET',\n        'headers': {\n          \"token\": \"0ed0d51e90cc4f3ab510a564cfb94b60\"\n        },\n        \"data\": {}\n      }).then(res => res.json()).then(console.log) // display names all persons.. \n      .catch(err => console.log('error fetch'));\n    };\n\n    this.setImage = e => {\n      // triggers when select images\n      const file = e.target;\n\n      if (file.files.length === 3) {\n        this.createPerson(file); //create the first image and add to it the 2 other images \n      }\n    };\n\n    this.addFace = (file, id) => {\n      var myHeaders = new Headers();\n      myHeaders.append(\"token\", \"0ed0d51e90cc4f3ab510a564cfb94b60\");\n      var formdata = new FormData();\n      formdata.append(\"photo\", file, \"file\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: formdata,\n        redirect: 'follow'\n      };\n      fetch(`https://api.luxand.cloud/subject/${id}`, requestOptions) // id of the person ..\n      .then(response => response.json()).then(result => console.log(result)).catch(error => console.log('error add face fetch', error));\n    };\n\n    this.handleFilter = event => {\n      this.setState({\n        search: event.target.value\n      });\n      console.log(this.state.search);\n    };\n\n    this.state = {\n      isClickedNext: false,\n      image: null,\n      url: '',\n      students: [],\n      search: ''\n    };\n  } //for hide class name input and show the add new student and done \n\n\n  componentDidMount() {\n    this.listPerson();\n    fetch('http://localhost:3000/students').then(res => res.json()).then(data => {\n      this.setState({\n        students: data\n      }, () => {\n        console.log(this.state.students);\n      });\n    }).catch(e => console.log(e));\n  }\n\n  //create new person\n  createPerson(file) {\n    // check if the name is exist or not ?\n    let stName = document.getElementById('stName').value;\n\n    if (stName) {\n      //check the name in database.\n      var myHeaders = new Headers();\n      myHeaders.append(\"token\", '0ed0d51e90cc4f3ab510a564cfb94b60');\n      var formdata = new FormData();\n      formdata.append(\"name\", stName);\n      formdata.append(\"photo\", file.files[0], \"file\"); //first image\n\n      formdata.append(\"store\", \"1\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: formdata,\n        redirect: 'follow'\n      };\n      fetch(\"https://api.luxand.cloud/subject/v2\", requestOptions).then(response => response.json()).then(result => {\n        let id = result.id; // get the id for add faces to the same person.\n\n        this.addFace(file.files[1], id); //add second and third images to the same person\n\n        this.addFace(file.files[2], id); //add second and third images to the same person\n\n        console.log(result); //alert .. added successfully\n      }).catch(error => console.log('error fetching', error));\n    }\n  }\n\n  render() {\n    const {\n      isClickedNext\n    } = this.state;\n    let filteredArray = this.state.students.filter(std => {\n      return std.includes(this.state.search);\n    });\n    filteredArray = filteredArray.map((std, i) => {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 20\n        }\n      }, std, \" \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: std,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 38\n        }\n      }), \" \");\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3 bg-black-10 shadow-5 p-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, isClickedNext === false ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Add Class\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Class Name\",\n      className: \"form-input mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.next,\n      id: \"submit\",\n      className: \"btn f3 grow btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, \"Next\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"main-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    }, \"Add Student\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"search\",\n      onChange: this.handleFilter,\n      type: \"search\",\n      placeholder: \"search on students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"students\",\n      id: \"students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }, filteredArray), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"students\",\n      id: \"students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 33\n      }\n    }, filteredArray)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.setImage,\n      multiple: true,\n      accept: \"image/*\",\n      id: \"file2\",\n      placeholder: \"Student Major ..\",\n      className: \"form-file mt-4\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      id: \"submit\",\n      onClick: this.listPerson,\n      className: \"btn f3 grow btn-danger btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 29\n      }\n    }, \"Add Student\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"submit\",\n      className: \"btn f3 grow btn-success btn-submit mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, \"Done\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 115\n      }\n    }))));\n  }\n\n}\n\nexport default CreateClass;","map":{"version":3,"sources":["/Users/mhd.sad22/graduation-project/graduation-project/src/components/CreateClass.js"],"names":["React","Component","Button","CreateClass","constructor","next","setState","isClickedNext","listPerson","url","fetch","then","res","json","console","log","catch","err","setImage","e","file","target","files","length","createPerson","addFace","id","myHeaders","Headers","append","formdata","FormData","requestOptions","method","headers","body","redirect","response","result","error","handleFilter","event","search","value","state","image","students","componentDidMount","data","stName","document","getElementById","render","filteredArray","filter","std","includes","map","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport './CreateClass.css';\n\nclass CreateClass extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isClickedNext: false,\n            image: null,\n            url: '',\n            students:[],\n            search:''\n        }\n    }\n\n    //for hide class name input and show the add new student and done \n    next = () => {\n        this.setState({ isClickedNext: true });\n    }\n\n\n    listPerson = () => {\n        // const proxi = 'https://cors-anywhere.herokuapp.com/';\n        const url = 'https://api.luxand.cloud/subject'\n        // const fullUrl = proxi + url;\n        fetch(url, {\n            \"async\": true,\n            \"crossDomain\": true,\n            'method': 'GET',\n            'headers': {\n                \"token\": \"0ed0d51e90cc4f3ab510a564cfb94b60\"\n            },\n            \"data\": {}\n        }).then(res => res.json())\n            .then(console.log)          // display names all persons.. \n            .catch(err => console.log('error fetch'));\n    }\n\n\n\n    componentDidMount() {\n        this.listPerson();\n        fetch('http://localhost:3000/students')\n        .then(res=> res.json()).then(data=>{\n            this.setState({students:data} , ()=>{console.log(this.state.students)});\n        })\n        .catch(e=>console.log(e));\n\n        \n    }\n\n\n\n    setImage = (e) => { // triggers when select images\n        const file=e.target;\n        if (file.files.length === 3) {\n            this.createPerson(file); //create the first image and add to it the 2 other images \n        }\n    }\n\n\n\n    //add faces to exist person\n    addFace = (file,id) => {\n        var myHeaders = new Headers();\n        myHeaders.append(\"token\", \"0ed0d51e90cc4f3ab510a564cfb94b60\");\n\n        var formdata = new FormData();\n        formdata.append(\"photo\", file, \"file\");\n\n        var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: formdata,\n            redirect: 'follow'\n        };\n\n        fetch(`https://api.luxand.cloud/subject/${id}`, requestOptions) // id of the person ..\n            .then(response => response.json())\n            .then(result => console.log(result))\n            .catch(error => console.log('error add face fetch', error));\n    }\n\n    //create new person\n    createPerson(file) {\n        // check if the name is exist or not ?\n        let stName=document.getElementById('stName').value; \n        \n\n        if(stName){ //check the name in database.\n\n\n        \n        var myHeaders = new Headers();\n        myHeaders.append(\"token\", '0ed0d51e90cc4f3ab510a564cfb94b60');\n\n        var formdata = new FormData();\n        formdata.append(\"name\", stName);\n        formdata.append(\"photo\", file.files[0], \"file\");//first image\n        formdata.append(\"store\", \"1\");\n\n        var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: formdata,\n            redirect: 'follow'\n        };\n\n        fetch(\"https://api.luxand.cloud/subject/v2\", requestOptions)\n            .then(response => response.json())\n            .then(result => {\n                let id = result.id; // get the id for add faces to the same person.\n                this.addFace(file.files[1],id); //add second and third images to the same person\n                this.addFace(file.files[2],id);//add second and third images to the same person\n                console.log(result)\n                //alert .. added successfully\n            })\n            .catch(error => console.log('error fetching', error));\n        }\n    }\n    handleFilter=(event)=>{\n        this.setState({search:event.target.value});\n        console.log(this.state.search);\n    }\n\n\n    render() {\n        const { isClickedNext } = this.state;\n        let filteredArray = this.state.students.filter( (std)=>{\n            return std.includes(this.state.search);\n        });\n        filteredArray = filteredArray.map((std , i)=>{\n            return <p  key={i}>{std} <input type=\"checkbox\" value={std} /> </p> ;\n        })\n        \n        return (\n            <>\n\n                <div className=\"mt-3 bg-black-10 shadow-5 p-5 \">\n                    {isClickedNext === false ? \n                    <>\n                        <h1 className=\"main-title\">Add Class</h1>\n                        <input type=\"text\" placeholder=\"Class Name\" className=\"form-input mt-4\" />\n                        <br />\n                        <Button onClick={this.next} id='submit' className=\"btn f3 grow btn-success btn-submit mt-4\" >Next</Button>\n                    </>\n                        :\n                    <>\n                            <h1 className=\"main-title\">Add Student</h1>\n                            <div className= \"container-students\">\n                                <input className=\"search\" onChange={this.handleFilter} type=\"search\" placeholder=\"search on students\"/>\n                                <div className=\"students\" id=\"students\">\n                                    {filteredArray}\n                                </div>\n                                <div className=\"students\" id=\"students\">\n                                    {filteredArray}\n                                </div>\n\n                            </div>\n                            \n                            <br />\n                            <input type=\"file\" onChange={this.setImage} multiple accept=\"image/*\" id=\"file2\" placeholder=\"Student Major ..\" className=\"form-file mt-4\" required />\n                            <br />\n\n                            <Button id='submit' onClick={this.listPerson} className=\"btn f3 grow btn-danger btn-submit mt-4\" >Add Student</Button>\n                            <Button id='submit' className=\"btn f3 grow btn-success btn-submit mt-4\" >Done</Button><br />\n                    </>}\n\n                </div>\n            </>);\n    }\n}\n\nexport default CreateClass;\n\n\n\n"]},"metadata":{},"sourceType":"module"}