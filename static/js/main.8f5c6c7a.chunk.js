(this["webpackJsonpgraduation-project"]=this["webpackJsonpgraduation-project"]||[]).push([[0],{112:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAADJCAMAAADSHrQyAAAAIVBMVEXl5eX////k5OTr6+v7+/vx8fHo6Oju7u75+fn19fXt7e1KDR+2AAAEp0lEQVR4nO3d2WKjMAwFUONgsvz/B09op20WwLIWI5F73/rAchpWWUAahqFM6dMylbs7DWPKe6/JDslpvNv3XovdMqTyib/6nFzS5+3rP/lcOYIgCIIgyEckHy1k+HS6HS2nicTP5+GIORPwB6XT8OPeK2mVOn3aexXNcqpu8qe9V9Esp9pGD/shAzvssMMOO+xHDeywS+yX67WUcr1ejNdXMxr2y3l6qAZNt2uH9daI2D6W9FL9uv95DnHPL7WfFxtUcr4F0Mvs19XWnJz8b/ki+21r4nzrp+BFYq+UebP3apfAXq1wZ+dlTr6dUtzPXS2tYdtp4xqpr6YtXDulsL/xn3MRpv1KHczLpbeIHqadKJ+n93u849kb+k4dn+Z59paW2+z21o5lb2o39vvDs+wN8jle93iO/dLWZZ693tVw7MRz+8YcfIRjb+0z93pPw7G3Pljh9RTPsDfu7gY7vNL8GHby9ezvLJSvayelf2ZA+/0OUgfPsDc/SKV6dTN+3Tyr4KPZx/91Aw18F7ted+L4WzJRwMfa38eHapEcH8v+VCgT40Od319GQqTzjXRd9zYIJMT3uJ5XKtYurZwIH+c+bnneEnyY+/eV8QDJzIPUbcbVoRABPka9bp0uwbPsYwM9JXmddosuwPNq1A1HO4WffZvOx5uPy8j39hqdjQ8wHkcY8eXh/Y/Dkt62w8Kzx9+rE35FXqKlLIWJt+27kO/sRDoLz7cTDkEd6Ry8pM+qMm2epPS2N2s140X9dZsHPPmJvb5lyfCO+ypb6c0nVL/9tO30VrxCH/Vk0kfNoTfivfbP8+hteL3nJsoctecm2O9ObDjgOX1eRvDaSDrep50Nb8K7tIvodLxDe1tVSID3Z9d4RSztaO/Ozj25MfDe7Dp0Gt6ZXYtOwvuy69EpeFd23TdhV/Gu7MovAa/hPdlV4QS8I7s6vYb3YzegV/Be7PIL2Xa8E7vdtw428KZ2cg1F87xOx1vaJ2pDpSV9A29on/udSXhb+jrezv7d70zA23/XZAVvZv/pd67ie3zSZRlvZf/rd67grU5uL4olvJH9sd95E9+Hvoy3sT/3O2/ge9EX8Sb2l+P2Or4ffamAaWF/O2Wt4S9WzkXI2w9vYF84Wy/ju9K72BcvVJbwfek97Gv9zm9L7kzvYF/vd35ZdG+6vX2r3/lp2d3p5vbtfueHhTc/bySPsb3W7/y79LE/3dhebzYs+9Ft7ZR+56/l77DBJ1s7qQAxr8A+dEs7sfaSy050Qzu57LST3NBuXHHTiJU9AN3KHoFuZA9Bt7HHoJvYg9At7FHoBvYwdH17HLq6PRBd2x6JrmwPRde1x6Kr2oPRNe3R6Ir2cHQ9ezy6mj0gXcseka5kD0nXsTe/s9FHYIcddti3JoEddthhjxbYYYcd9q1JYIcddtijBXbYYYd9axLYn+wx0+PZwDCBHXbYYYcd9qMGdthhh/0vn2z3+vV2eerfvcxanxLwFtJDyU4/XS/MSPncaU7lMh4tl0J8InvviotJSHIEQRAEQRAECRbK7c0xM6Wgw+vy5JJsPnoRIUPq8lJ0f5k/4JyGYSift89Pc1fGP/62dK5YkpIdAAAAAElFTkSuQmCC"},114:function(e,t,a){e.exports=a(375)},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},133:function(e,t,a){e.exports=a.p+"static/media/who.2fcb7ddc.svg"},134:function(e,t,a){e.exports=a.p+"static/media/time.945db4b8.svg"},135:function(e,t,a){e.exports=a.p+"static/media/free.a711c812.svg"},136:function(e,t,a){e.exports=a.p+"static/media/secure.ede154a6.svg"},137:function(e,t,a){e.exports=a.p+"static/media/goal.c969c1df.svg"},141:function(e,t,a){},372:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(109),c=a.n(l),r=(a(119),a(8)),o=a(9),i=a(11),m=a(10),d=(a(120),a(17)),u=(a(121),a(72),a(32)),h=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"trigger1",className:"main-div"},s.a.createElement(u.Zoom,null,s.a.createElement("div",{className:"abstract"},s.a.createElement("h1",null,"Who WE ARE ?"),s.a.createElement("p",null,s.a.createElement("span",null,"Faceify")," provides some interesting services which are related to the face recognition mechanism, like(take attendance of students, detect the strangers in a company, counting the presence people, ...etc.)"),s.a.createElement("img",{className:"home-imgs",src:a(133),alt:"Abstract"}))),s.a.createElement("div",{className:"new-line"}),s.a.createElement(u.Fade,{right:!0},s.a.createElement("div",{className:"whyus"},s.a.createElement("h1",null,"WHY US?"),s.a.createElement(u.Roll,{left:!0},s.a.createElement("div",{className:"img-text"},s.a.createElement("img",{className:"home-imgs why",src:a(134),alt:"Save time"}),s.a.createElement("p",{className:"mt-2"},"We save your time")),s.a.createElement("br",null),s.a.createElement("div",{className:"img-text"},s.a.createElement("img",{className:"home-imgs why",src:a(135),alt:"Free services"}),s.a.createElement("p",{className:"mt-2"},"All services are free")),s.a.createElement("div",{className:"img-text mt-4"},s.a.createElement("img",{className:"why",src:a(136),alt:"Security"}),s.a.createElement("p",{className:"mt-2"},"Full secure data"))))),s.a.createElement("div",{className:"new-line"}),s.a.createElement(u.Fade,{left:!0,big:!0},s.a.createElement("div",{className:"goals"},s.a.createElement("h1",null,"OUR GOALS"),s.a.createElement(u.Bounce,{left:!0,cascade:!0},s.a.createElement("div",{class:"goals"},s.a.createElement("p",null,"Facilitate the process of taking attendance."),s.a.createElement("p",null,"Make it easy for teacher to review the history of class."),s.a.createElement("p",null,"Make the taking attendance process reliable."),s.a.createElement("p",null,"Reduce the time needed to take the attendance."))),s.a.createElement("img",{className:"home-imgs",src:a(137),alt:"Goals"}))),s.a.createElement("div",{className:"new-line"}),s.a.createElement("div",{className:"container"},s.a.createElement(u.Roll,{top:!0},s.a.createElement("h1",null,"OUR TEAM")),s.a.createElement(u.Fade,{left:!0,big:!0},s.a.createElement("div",{className:"team"},s.a.createElement("div",{className:"team-img"},s.a.createElement("div",{className:"team-social"},s.a.createElement("a",{className:"social-fb",target:"_blank",href:"https://www.facebook.com/mohammad.sadaldeen"},s.a.createElement("i",{className:"fab fa-facebook-f"})),s.a.createElement("a",{className:"social-li",target:"_blank",href:"https://www.linkedin.com/in/mohamad-saad-eddin/"},s.a.createElement("i",{className:"fab fa-linkedin-in"})),s.a.createElement("a",{className:"social-in",target:"_blank",href:"https://www.instagram.com/mohamad_saad_eddin/"},s.a.createElement("i",{className:"fab fa-instagram"})),s.a.createElement("a",{className:"social-in",target:"_blank",href:"https://github.com/MHD22"},s.a.createElement("i",{className:"fab fa-github"})))),s.a.createElement("div",{className:"team-content"},s.a.createElement("h2",null,"Mhd Saad Eddin"),s.a.createElement("h3",null,"Full Stack Developer")))),s.a.createElement(u.Fade,{right:!0,big:!0},s.a.createElement("div",{className:"team"},s.a.createElement("div",{className:"team-img2"},s.a.createElement("div",{className:"team-social"},s.a.createElement("a",{className:"social-fb",target:"_blank",href:"https://www.facebook.com/mazen.alsmman/"},s.a.createElement("i",{className:"fab fa-facebook-f"})),s.a.createElement("a",{className:"social-li",target:"_blank",href:"https://www.linkedin.com/in/mhd-mazen-al-samman-03981119a/"},s.a.createElement("i",{className:"fab fa-linkedin-in"})),s.a.createElement("a",{className:"social-in",target:"_blank",href:"https://www.instagram.com/mohammad.mazen.sy/"},s.a.createElement("i",{className:"fab fa-instagram"})),s.a.createElement("a",{className:"social-in",target:"_blank",href:"https://github.com/Mazen-Al-Samman"},s.a.createElement("i",{className:"fab fa-github"})))),s.a.createElement("div",{className:"team-content"},s.a.createElement("h2",null,"Mazen Al Samman"),s.a.createElement("h3",null,"Full Stack Developer")))))))}}]),n}(n.Component),f=(a(57),a(13)),g=a(4),E=a.n(g),p=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).opensweetalert=function(){E.a.fire({title:"Success",html:'<h5 class="text-success">Class Created Successfully !</h5>',type:"success",icon:"success"}),e.done()},e.addNewClass=function(t){var a={teacherID:JSON.parse(sessionStorage.getItem("teacher")).id_number,className:e.props.courseName,ids:e.state.addedStdID,fnames:e.state.addedStdFName,lnames:e.state.addedStdLName},n=document.getElementById("baseUrl").defaultValue;fetch("".concat(n,"/classes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then(console.log).then(e.opensweetalert()).catch((function(e){console.log(e)}))},e.addStudent=function(t){console.log("aaaa");var a=t.target.value,n=t.target.getAttribute("data-fname"),s=t.target.getAttribute("data-lname"),l=e.state.addedStdID,c=e.state.addedStdFName,r=e.state.addedStdLName,o=l.indexOf(a);-1===o?(l.push(a),c.push(n),r.push(s),e.setState({addedStdID:l,addedStdFName:c,addedStdLName:r})):(l.splice(o,1),c.splice(o,1),r.splice(o,1),e.setState({addedStdID:l,addedStdFName:c,addedStdLName:r}),document.getElementById(a+"label").style.background="#343a400a "),console.log(e.state.addedStdID,e.state.addedStdFName,e.state.addedStdLName)},e.handleFilter=function(t){e.setState({search:t.target.value})},e.editStudents=function(){console.log("added..");var t=e.state,a=t.addedStdID,n=t.addedStdFName,s=t.addedStdLName,l=a.map((function(e,t){return{id:e,name:"".concat(n[t]," ").concat(s[t])}}));e.props.onAddStd(l)},e.handleClose=function(t){e.setState({show:!1})},e.done=function(t){e.setState({route:"/show"})},e.state={students:[],addedStdID:[],addedStdFName:[],addedStdLName:[],search:"",show:!1,title:"",body:"",route:null,courseName:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("baseUrl").defaultValue,a="".concat(t,"/students");fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({students:t})})),console.log(this.state)}},{key:"render",value:function(){var e=this,t=this.state.students.filter((function(t){return"".concat(t.fname," ").concat(t.lname," ").concat(t.id).toLowerCase().includes(e.state.search.toLowerCase())}));return 0!==this.state.addedStdID.length&&this.state.addedStdID.forEach((function(e){var t=document.getElementById(e+"label");null!==t&&(t.style.background="#178326a2")})),t=t.map((function(t,a){return s.a.createElement("label",{htmlFor:t.id,id:t.id+"label",key:t.id,"data-name":t.fname,className:"grow student"},t.fname+" "+t.lname+" | "+t.id," ",s.a.createElement("input",{type:"checkbox","data-fname":t.fname,"data-lname":t.lname,value:t.id,id:t.id,onChange:e.addStudent,className:"check"}))})),s.a.createElement(s.a.Fragment,null,this.state.route?s.a.createElement(f.a,{to:this.state.route}):null,s.a.createElement("h1",{className:"main-title mt5"},"Add Students"),s.a.createElement("div",{className:"container-students"},s.a.createElement("input",{onChange:this.handleFilter,type:"search",placeholder:"search on students"}),s.a.createElement("div",{className:"cont-cont"},s.a.createElement("div",{className:"students p-3",id:"students"},t))),s.a.createElement("br",null),s.a.createElement("button",{id:"submit",className:"my-button",onClick:this.props.createNew?this.addNewClass:this.editStudents},"Done"),s.a.createElement("br",null))}}]),a}(n.Component),b=(a(42),a(54)),v=a.n(b),N=a(36),y=a.n(N),S=(a(75),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).checkLoggedIn=function(){return!!sessionStorage.getItem("teacher")||(e.setState({route:"/login"}),!1)},e.opensweetalertdanger=function(e){E.a.fire({icon:"error",title:"Oops ..! ",html:'<h5 class="text-danger">'.concat(e,"</h5>")})},e.next=function(t){if(y()("#newClass").val()){var a=document.getElementById("baseUrl").defaultValue;fetch("".concat(a,"/checkClass/").concat(e.state.courseName)).then((function(e){return e.json()})).then((function(t){console.log(t),t?e.opensweetalertdanger("Class Name Is Already Exist..!"):e.setState({isFlipped:!0})}))}else e.opensweetalertdanger("Class Name Can't Be Empty..!")},e.courseName=function(t){var a=t.target.value;console.log(a),e.setState({courseName:a})},e.state={isClickedNext:!1,image:null,url:"",search:"",courseName:"",show:!1,title:"",body:"",redirect:!1,route:null,isFlipped:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.checkLoggedIn()){var t=document.getElementById("baseUrl").defaultValue;fetch("".concat(t,"/students")).then((function(e){return e.json()})).then((function(t){e.setState({students:t},(function(){console.log(e.state.students)}))})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.route?s.a.createElement(f.a,{to:this.state.route}):null,s.a.createElement("div",{className:"addC-body"},s.a.createElement("div",{className:"reg-content"},s.a.createElement("div",{className:"reg-container"},s.a.createElement(v.a,{className:"flipCard",isFlipped:this.state.isFlipped,flipDirection:"horizontal"},s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:"main-title add"},"Class Name"),s.a.createElement("input",{name:"newClass",id:"newClass",onChange:this.courseName,type:"text"}),s.a.createElement("button",{className:"mt4 my-button",onClick:this.next},"Next")),s.a.createElement(p,{createNew:!0,courseName:this.state.courseName}))))))}}]),a}(n.Component)),w=a(43),k=a(29),C=a.n(k),I=a(111),O=a(377),D=a(378),x=a(112),T=a.n(x);var A=function(e){var t=e.students.map((function(e){return s.a.createElement("tr",{id:e.id,key:e.id},s.a.createElement("td",null,e.id),s.a.createElement("td",null,e.name))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-container mt-3"},s.a.createElement("table",{id:"",className:" table1"},s.a.createElement("thead",{className:"text-dark"},s.a.createElement("tr",null,s.a.createElement("th",null,"Student ID"),s.a.createElement("th",null,"Student Name"))),s.a.createElement("tbody",{className:"tableBody"},t))))},F=(a(141),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).getImages=function(){return e.props.historyData.imgs.map((function(e,t){var a={height:"400px",backgroundColor:"rgba(0,0,0,0)",backgroundImage:"url(".concat(e,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",borderRadius:"20px"};return s.a.createElement("div",{onClick:function(){window.open(e,"_blank")},style:a,key:t,className:"my-shad br3 grow pointer"})}))},e.back=function(){var t=e.props.backToHistory?"/show/classHistory":"/show";e.props.onChangeRoute(t,0)},e.getAttend=function(){var t=e.props.historyData,a=t.allStudents;return t.students.map((function(e){var t;return a.forEach((function(a){a.id===e&&(t=a.name)})),s.a.createElement("tr",{key:e},s.a.createElement("td",null,e),s.a.createElement("td",null,t))}))},e.state={},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.getAttend(),t=this.getImages();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{marginTop:"-5%"}},s.a.createElement("div",{className:"jsBack"},s.a.createElement("button",{"hover-data":"Back",onClick:this.back,className:"red-btn my-button"},s.a.createElement("i",{className:"btn-icon far fa-arrow-alt-circle-left"}))),s.a.createElement("h2",{className:" mt2 font-rec details-text"},"Details of ".concat(this.props.historyData.date,", for ").concat(this.props.historyData.className," class.")),s.a.createElement("div",{className:"my-line neg"}),s.a.createElement("div",{className:"pv3 mb5"},s.a.createElement("h4",{className:"font-rec"},"Attendants Students."),s.a.createElement("div",{className:"table-container mt-3"},s.a.createElement("table",{className:"table1"},s.a.createElement("thead",{className:"text-dark"},s.a.createElement("tr",null,s.a.createElement("th",null,"Student ID"),s.a.createElement("th",null,"Student Name"))),s.a.createElement("tbody",{className:"tableBody"},e)))),s.a.createElement("h3",{className:"font-rec"},"Class Images"),s.a.createElement("div",{id:"imageContainer",className:"row ma4"},t)))}}]),a}(n.Component)),j=(a(59),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).renderTable=function(){return e.state.history.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",{className:"date"},t.date),s.a.createElement("td",null,s.a.createElement("button",{className:"shadow grow my-button detailsBtn","hover-data":"Show Details",onClick:function(){e.showDitails(t._id)}},s.a.createElement("i",{class:"f4 btn-icon fas fa-question"}))))}))},e.showDitails=function(t){e.state.history.forEach((function(a){t===a._id&&e.setState({students:a.students,imgs:a.images,date:a.date,showDitails:!0})}))},e.back=function(){e.props.onChangeRoute("/show/classData",0)},e.state={history:[],students:[],allStudents:[],imgs:[],date:"",showDitails:!1,route:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("baseUrl").defaultValue,a="".concat(t,"/classHistory/").concat(this.props.selected_class);fetch(a).then((function(e){return e.json()})).then((function(t){var a=t.students.map((function(e){return{id:e.id_number,name:e.firstName+" "+e.lastName}}));e.setState({history:t.history,allStudents:a})})).catch((function(e){console.log("error while getting history data \n",e)}))}},{key:"render",value:function(){var e=this.renderTable(),t=this.state,a={students:t.students,allStudents:t.allStudents,imgs:t.imgs,date:t.date,className:this.props.selected_class};return s.a.createElement(s.a.Fragment,null,this.state.route?s.a.createElement(f.a,{exact:!0,to:this.state.route}):null,this.state.showDitails&&s.a.createElement(F,{historyData:a,onChangeRoute:this.props.onChangeRoute,backToHistory:!0}),!this.state.showDitails&&s.a.createElement("div",{className:"history"},s.a.createElement("div",{className:"jsBack"},s.a.createElement("button",{"hover-data":"Back",onClick:this.back,style:{},className:"red-btn my-button "},s.a.createElement("i",{className:"btn-icon far fa-arrow-alt-circle-left"}))),s.a.createElement("div",{className:"table-container mt-3"},0!==this.state.history.length?s.a.createElement("table",{className:"table1"},s.a.createElement("thead",{className:"text-dark"},s.a.createElement("tr",null,s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Details"))),s.a.createElement("tbody",{className:"tableBody"},e)):s.a.createElement("h1",null,"No Data Available"))))}}]),a}(n.Component)),B=a(55);a(376);B.a.initializeApp({apiKey:"AIzaSyDppeuVy_KmDbBxGJDXJJoIGdW7BCa1iVk",authDomain:"imagesurls.firebaseapp.com",databaseURL:"https://imagesurls.firebaseio.com",projectId:"imagesurls",storageBucket:"imagesurls.appspot.com",messagingSenderId:"845730605001",appId:"1:845730605001:web:bfd3ce8d35e2251ed3ea18",measurementId:"G-W160ZN6RBT"});var P=B.a.storage(),R=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).renderTable=function(t){var a=t.map((function(t){return s.a.createElement("tr",{id:"r".concat(t.id),key:t.id},s.a.createElement("td",null,t.id),s.a.createElement("td",null,t.name),s.a.createElement("td",{onClick:function(){return e.deleteStd(t.id)}},s.a.createElement("i",{class:"icon-delete fas fa-user-times"})))}));e.setState({rows:a})},e.deleteStd=function(t){var a=E.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});a.fire({title:"Are you sure?",text:"You want to delete this student",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then((function(n){if(n.isConfirmed){var s=[].concat(e.state.lastStateOfStudents),l=s.length?s:[].concat(e.state.students);l=l.filter((function(e){return e.id!==t}));var c=e.state.rows;c=c.filter((function(e){return e.key!==t})),e.setState({rows:c,isThereChanges:!0,lastStateOfStudents:l}),a.fire("Deleted!","Student has been deleted.","success")}else n.dismiss===E.a.DismissReason.cancel&&a.fire("Cancelled","No changes done","error")}))},e.addStd=function(t){var a=[].concat(e.state.lastStateOfStudents),n=a.length?a:[].concat(e.state.students),s=n.map((function(e){return e.id})).join(" "),l=e.state.isThereChanges;t.forEach((function(t){s.includes(t.id)||(n.push(t),e.renderTable(n),l=!0)})),e.setState({clickedAdd:!1,isThereChanges:l,lastStateOfStudents:n})},e.onAddStd=function(){e.setState({clickedAdd:!0})},e.onDeleteClass=function(){E.a.fire({title:"Are you sure?",html:"<h5 class='text-danger'>You want to delete this class</h5>",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){if(t.isConfirmed){var a={className:e.props.classInfo.className},n=document.getElementById("baseUrl").defaultValue,s="".concat(n,"/deleteClass"),l={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch(s,l).then((function(e){return e.json()})).then(console.log).catch((function(e){console.log("error on Delete class request..",e)})),e.props.onChangeRoute("/show",500),E.a.fire("Deleted!","Class has been deleted.","success")}}))},e.onConfirm=function(){E.a.fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Save",denyButtonText:"Don't save",icon:"info"}).then((function(t){if(t.isConfirmed){var a={className:e.props.classInfo.className,students:e.state.lastStateOfStudents},n=document.getElementById("baseUrl").defaultValue,s="".concat(n,"/editClass"),l={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch(s,l).then((function(e){return e.json()})).then(console.log).catch((function(e){console.log("error on edit class request..",e)})),e.setState({isThereChanges:!1,lastStateOfStudents:[]}),e.props.onChangeRoute("/show",500),E.a.fire("Saved!","","success")}else t.isDenied&&(e.onCancel(),E.a.fire("Changes are not saved","","info"))}))},e.onCancel=function(){e.renderTable(e.state.students),e.setState({isThereChanges:!1,lastStateOfStudents:[]})},e.back=function(){e.setState({}),e.props.onChangeRoute("/show/classData",0)},e.state={rows:[],clickedAdd:!1,isThereChanges:!1,students:[],lastStateOfStudents:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=[].concat(this.props.classInfo.students);this.renderTable(e),this.setState({students:e})}},{key:"render",value:function(){var e=this.state.rows;return s.a.createElement("div",{id:"edit-class1",className:"edit-class"},s.a.createElement("div",{className:"js"},s.a.createElement("button",{"hover-data":"Back",onClick:this.back,className:"red-btn my-button"},s.a.createElement("i",{className:"btn-icon far fa-arrow-alt-circle-left"}))),s.a.createElement("h2",{className:"f2 mt2 font-lobster"},this.props.classInfo.className),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-container mt-3",style:{width:"100%"}},0!=this.props.classInfo.students.length?s.a.createElement("table",{className:"table1",style:{width:"100%"}},s.a.createElement("thead",{className:"text-dark"},s.a.createElement("tr",null,s.a.createElement("th",null,"Student ID"),s.a.createElement("th",null,"Student Name"),s.a.createElement("th",null,"Delete"))),s.a.createElement("tbody",{className:"tableBody"},e)):s.a.createElement("h1",null,"No Data Available"))),!this.state.clickedAdd&&s.a.createElement("button",{hidden:0==this.props.classInfo.students.length,className:"my-button grow mt0",onClick:this.onAddStd},"Add Students"),this.state.clickedAdd&&s.a.createElement("div",{className:"addStd-cont"},s.a.createElement(p,{createNew:!1,onAddStd:this.addStd})),this.state.isThereChanges&&s.a.createElement("div",{className:" btnEdCon"},s.a.createElement("button",{className:"my-button grow red-btn","hover-data":"Cancel Changes",onClick:this.onCancel},s.a.createElement("i",{class:"  icon-big btn-icon  far fa-times-circle"})," "),s.a.createElement("button",{className:"my-button grn-btn grow","hover-data":"Confirm Changes",onClick:this.onConfirm},s.a.createElement("i",{class:"icon-big btn-icon far fa-check-circle"}))),s.a.createElement(O.a,{className:"ma3 justify-content-start"},s.a.createElement(D.a,{className:"pa0 justify-start flex",xs:12,md:12},s.a.createElement("button",{onClick:this.onDeleteClass,hidden:0==this.props.classInfo.students.length,className:"delete-btn my-button grow red-btn"},"Delete Class ! "))))}}]),a}(n.Component),L={file:null,width:0,height:0,ids:[],students:[],absenceStudents:[],attendStudents:[],showImage:!0,showUploadBtn:!1,load:!1,hidePage:!1,classes:[],selected_class:"",imgs:[],faces:[],disableButton:!1,direction:"check",historyData:{},route:null,doneDisable:!0,showStudents:[],flag:0},U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).checkLoggedIn=function(){return!!sessionStorage.getItem("teacher")||(e.setState({route:"/login"}),!1)},e.checkAttendence=function(t){e.setState({load:!0,doneDisable:!0});var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onload=function(t){var a,n,s=new Image;s.src=t.target.result,s.onload=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.height,n=this.width,l();case 3:case"end":return e.stop()}}),e,this)})));var l=function(){e.setState({width:n,height:a})}};var n=t.target;n&&(e.setState({file2:t.target.files[0],file:URL.createObjectURL(t.target.files[0])}),e.faceRecognition(n.files[0])),t.target.value=null},e.setShowBtn=function(){e.setState({showUploadBtn:!0})},e.sendHistoryData=function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e.state.ids,imgs:e.state.imgs})},a=document.getElementById("baseUrl").defaultValue;fetch("".concat(a,"/history/").concat(e.state.selected_class),t).then((function(e){return e.json()})).then(console.log).catch((function(e){console.log("An Error occured while sending history Data ..",e)}));var n=new Date,s=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear(),l={students:e.state.ids,allStudents:e.state.students,imgs:e.state.imgs,className:e.state.selected_class,date:s};e.clear(),e.setState({ids:[],imgs:[],selected_class:[],historyData:l,disableButton:!0,route:"/show/details"})},e.faceRecognition=function(t){var a=new FormData;a.append("photo",t,"file");var n={method:"POST",body:a,redirect:"follow"},s=document.getElementById("baseUrl").defaultValue;fetch("".concat(s,"/checkImage"),n).then((function(e){return e.json()})).then((function(t){console.log(t);var a=document.getElementById("canvas"),n=a.getContext("2d");n.strokeStyle="#fcff04",n.fillStyle="#fcff04",n.lineWidth="3";var s=document.getElementById("person");n.drawImage(s,0,0);var l=e.state.students.map((function(e){return e.id})),c=e.state.ids;for(var r in t){var o=t[r].name.substring(0,t[r].name.indexOf("|")),i=t[r].name.substring(t[r].name.indexOf("|")+2);if(l.includes(i)&&!(100*t[r].probability<85)){c.includes(i)||c.push(i);var m=t[r].rectangle,d=m.left,u=m.right,h=m.bottom,f=m.top,g=u-d,E=parseInt(g/3)+2,p="".concat(E,"px Carter One");n.font=p,n.strokeRect(d,f,g,g),n.fillText(o,d,h+E)}}var b,v=[],N=[],y=Object(w.a)(e.state.students);try{for(y.s();!(b=y.n()).done;){var S,k=b.value,C=!1,I=Object(w.a)(e.state.ids);try{for(I.s();!(S=I.n()).done;){var O=S.value;k.id===O&&(C=!0)}}catch(F){I.e(F)}finally{I.f()}C?v.push({id:k.id,name:k.name}):N.push({id:k.id,name:k.name})}}catch(F){y.e(F)}finally{y.f()}e.setState({ids:c,attendStudents:v,absenceStudents:N});var D=e.state.width/20;n.fillStyle="black";var x="".concat(D,"px serif");n.font=x,n.fillText((new Date).toLocaleString(),e.state.width/2-5*D,50),e.setState({showImage:!1});var T=a.toDataURL("image/png");console.log(c),e.setState({file:T});var A=e.getImageURL(T);e.convertImageToURL(A.get("image")),console.log("Imgs : ",e.state.imgs),e.colorTable(t),e.setState({load:!1})})).catch((function(e){return console.log("error",e)}))},e.colorTable=function(){var t,a=e.state.ids,n=Object(w.a)(a);try{for(n.s();!(t=n.n()).done;){var s=t.value,l=document.getElementById(s+"");l&&(l.style.backgroundColor="#178326a2")}}catch(c){n.e(c)}finally{n.f()}},e.clear=function(){e.setState({showImage:!0,showUploadBtn:!1,ids:[],imgs:[]}),document.getElementById("file2").value="";var t,a=e.state.students,n=Object(w.a)(a);try{for(n.s();!(t=n.n()).done;){var s=t.value,l=document.getElementById(s.id);l&&(l.className="")}}catch(c){n.e(c)}finally{n.f()}},e.CheckClass=function(t){var a=t.target.getAttribute("data-class");console.log(a);var n=[];e.state.classes.forEach((function(e){e.className===a&&e.students.forEach((function(e){n.push({id:e.id_number,name:e.firstName+" "+e.lastName})}))})),console.log(n,e.state.classes),e.setState({ids:[],imgs:[],students:n,hidePage:!0,showStudents:n,selected_class:a,route:"/show/classData"})},e.editClass=function(){e.setState({direction:"edit",route:"/show/editClass"})},e.back=function(){e.setState({hidePage:!1,route:"/show"}),e.clear()},e.showHistoryPage=function(){e.setState({route:"/show/classHistory"})},e.showAllStudents=function(){var t=e.state.students;e.setState({showStudents:t}),e.colorTable()},e.showAttendStudents=function(){var t=e.state.attendStudents;e.setState({showStudents:t})},e.showAbcentStudents=function(){var t=e.state.absenceStudents;e.setState({showStudents:t})},e.onChangeRoute=function(t,a){setTimeout((function(){if(console.log(t,"clicked"),e.checkLoggedIn()){var a=document.getElementById("baseUrl").defaultValue;fetch("".concat(a,"/teacherClasses?id=")+JSON.parse(sessionStorage.getItem("teacher")).id_number).then((function(e){return e.json()})).then((function(a){e.setState({classes:a,route:t})})).catch((function(e){return console.log(e)}))}}),a)},e.state=L,e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.checkLoggedIn()){var t=document.getElementById("baseUrl").defaultValue;fetch("".concat(t,"/teacherClasses?id=")+JSON.parse(sessionStorage.getItem("teacher")).id_number).then((function(e){return e.json()})).then((function(t){e.setState({classes:t})})).catch((function(e){return console.log(e)}))}}},{key:"componentWillUnmount",value:function(){this.setState({flag:0})}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(1!==t.flag&&this.checkLoggedIn()){var n=document.getElementById("baseUrl").defaultValue;fetch("".concat(n,"/teacherClasses?id=")+JSON.parse(sessionStorage.getItem("teacher")).id_number).then((function(e){return e.json()})).then((function(e){a.setState({classes:e,flag:1})})).catch((function(e){return console.log(e)}))}}},{key:"getImageURL",value:function(e){for(var t=atob(e.split(",")[1]),a=[],n=0;n<t.length;n++)a.push(t.charCodeAt(n));var s=new Blob([new Uint8Array(a)],{type:"image/png"}),l=new FormData;return l.append("image",s),l}},{key:"convertImageToURL",value:function(e){var t=this;if(e){var a="studentsImage"+(new Date).getTime();P.ref("images/".concat(a)).put(e).on("state_changed",(function(e){}),(function(e){return console.log("error while getting data from firebase.\n",e),""}),(function(){P.ref("images").child(a).getDownloadURL().then((function(e){console.log(e);var a=[].concat(t.state.imgs);return a.push(e),t.setState({imgs:a,doneDisable:!1}),e}))}))}}},{key:"render",value:function(){var e=this,t=this.props.match.path,a={students:this.state.students,className:this.state.selected_class},n=this.state.classes.map((function(t){return s.a.createElement("div",{onClick:e.CheckClass,key:t._id,"data-class":t.className,"data-student":t.students,id:"class:".concat(t._id),className:"cont-card"},s.a.createElement("div",{"data-class":t.className,className:"inner-cont-card  large button card-front"},s.a.createElement("p",{"data-class":t.className},t.className),s.a.createElement("i",{"data-class":t.className,className:"far fa-paper-plane icons"})),s.a.createElement("div",{"data-class":t.className,className:"panel card-back"},s.a.createElement("div",{"data-class":t.className,className:"inner-cont-card hub-info"},s.a.createElement("i",{"data-class":t.className,className:"far mb-3 fa-edit icons"}),s.a.createElement("p",{"data-class":t.className},"Contains ",s.a.createElement("br",null)," ",s.a.createElement("span",{"data-class":t.className,className:"number-span"},t.students.length)," ",s.a.createElement("br",null)," Students"))))}));return s.a.createElement(s.a.Fragment,null,this.state.route?s.a.createElement(f.a,{to:this.state.route}):null,0===this.state.classes.length&&s.a.createElement("section",{className:"hero-unit"},s.a.createElement("h1",{style:{marginTop:"150px"}}," ","You don't have any class yet.. "),s.a.createElement("button",{style:{margin:"50px 0"},className:"my-button"},s.a.createElement(d.b,{style:{color:"#eee",textDecoration:"none"},to:"/create"},"Create a new class.."))),0!==this.state.classes.length&&s.a.createElement(s.a.Fragment,null,s.a.createElement(f.b,{path:"".concat(t,"/editClass"),component:function(){return s.a.createElement(R,{classInfo:a,onChangeRoute:e.onChangeRoute})}}),s.a.createElement(f.b,{path:"".concat(t,"/classHistory"),component:function(){return s.a.createElement(j,{selected_class:e.state.selected_class,onChangeRoute:e.onChangeRoute})}}),s.a.createElement(f.b,{path:"".concat(t,"/details"),component:function(){return s.a.createElement(F,{historyData:e.state.historyData,onChangeRoute:e.onChangeRoute,backToHistory:!1})}}),s.a.createElement(f.b,{path:"".concat(t),exact:!0},s.a.createElement("div",{className:" text-center"},s.a.createElement("section",{className:"hero-unit"},s.a.createElement("hgroup",null,s.a.createElement("h2",{className:"select-class"},"Select A Class ")),s.a.createElement("div",{className:"flip-cards"},n)))),s.a.createElement(f.b,{path:"".concat(t,"/classData")},s.a.createElement("div",{className:"bg--white"}),s.a.createElement("div",{className:"container myCont"},s.a.createElement("div",{class:"loader",hidden:!this.state.load},s.a.createElement("ul",{class:"hexagon-container"},s.a.createElement("li",{class:"hexagon hex_1"}),s.a.createElement("li",{class:"hexagon hex_2"}),s.a.createElement("li",{class:"hexagon hex_3"}),s.a.createElement("li",{class:"hexagon hex_4"}),s.a.createElement("li",{class:"hexagon hex_5"}),s.a.createElement("li",{class:"hexagon hex_6"}),s.a.createElement("li",{class:"hexagon hex_7"}))),s.a.createElement("div",{className:" divBtns btns"},s.a.createElement("button",{"hover-data":"Back",onClick:this.back,className:"ma1 red-btn my-button",hidden:this.state.load},s.a.createElement("i",{className:"btn-icon far fa-arrow-alt-circle-left"})),s.a.createElement("div",null,s.a.createElement("button",{"hover-data":"Edit Class",hidden:this.state.load,onClick:this.editClass,className:" ma1 my-button"},s.a.createElement("i",{className:"btn-icon fas fa-users-cog"})),s.a.createElement("button",{"hover-data":"Class History",hidden:this.state.load,onClick:this.showHistoryPage,className:" ma1 my-button"},s.a.createElement("i",{className:"btn-icon fas fa-history"})))),s.a.createElement("h3",{hidden:this.state.load,className:"f2 mt4 font-lobster"},this.state.selected_class),s.a.createElement("div",{className:"my-line2",hidden:this.state.load}),s.a.createElement(O.a,{hidden:this.state.load},s.a.createElement(D.a,{xs:12},s.a.createElement("button",{hidden:this.state.showUploadBtn,onClick:this.setShowBtn,className:"my-button mt-4"},"Check Attendence"),s.a.createElement("div",{hidden:!this.state.showUploadBtn},s.a.createElement("p",{hidden:!this.state.showImage,className:"mt-5 f3 b i upload-text"},"Upload one or more image to take the attendance, Then click on ",s.a.createElement("span",{className:"red f3"},"'Done'")," Button."),s.a.createElement("label",{htmlFor:"file2",className:"mt-3 my-button f4 pointer"},0===this.state.ids.length?"Upload An Image ":"Upload Another Image "," ",s.a.createElement("i",{class:" fas fa-cloud-upload-alt"}),"   "),s.a.createElement("input",{type:"file",hidden:!0,onChange:this.checkAttendence,accept:"image/*",id:"file2",className:"form-file mt-4 ",required:!0}),s.a.createElement("br",null),s.a.createElement("img",{hidden:!0,id:"person",src:this.state.file,alt:"Person"}),s.a.createElement("canvas",{id:"canvas",width:this.state.width,height:this.state.height,hidden:!0}),s.a.createElement("img",{className:"img-thumbnail mt-4",src:this.state.file||T.a,alt:"Person",width:"300",height:"300",hidden:this.state.showImage}),s.a.createElement("br",null),s.a.createElement("div",{className:"table-buttons2"},s.a.createElement("button",{hidden:this.state.showImage,onClick:this.clear,className:"my-button grow red-btn"},s.a.createElement("i",{class:"fas fa-trash-alt"})),s.a.createElement("button",{hidden:this.state.showImage,className:"my-button  grow"},s.a.createElement("a",{href:"".concat(this.state.file),download:!0})," ",s.a.createElement("i",{class:"fas fa-download"})," "),s.a.createElement("button",{hidden:this.state.showImage,onClick:this.sendHistoryData,disabled:this.state.doneDisable,className:"my-button grn-btn grow "},"Done"))))),s.a.createElement("div",{className:"my-line",hidden:this.state.load}),s.a.createElement(O.a,{hidden:this.state.load,className:"mt5"},s.a.createElement(D.a,{xs:12},s.a.createElement("h3",{className:"mt-2 table-header font-acme"},"Students enrolled this course"),s.a.createElement(A,{students:this.state.showStudents}),s.a.createElement("div",{className:"table-buttons"},s.a.createElement("button",{onClick:this.showAllStudents,className:"my-button grow"},"All Students"),s.a.createElement("button",{onClick:this.showAttendStudents,className:"my-button grn-btn grow"},"Attendance Students"),s.a.createElement("button",{onClick:this.showAbcentStudents,className:"my-button grow red-btn"},"Absence Students"))))))))}}]),a}(n.Component),H=a(379),_=a(113),J=a.n(_),V=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).newTeacher=function(t){t.preventDefault();var a=document.getElementById("formTeacher"),n={firstName:a.fname.value,lastName:a.lname.value,email:a.email.value,password:a.tpassword.value,id_number:a.t_id.value};e.setState({teacherData:n});/^\d*[A-Za-z]+\w*@zu.edu.jo$/gi.test(n.email)?n.firstName&&n.lastName&&n.password&&n.id_number&&n.email?e.storeTeacherDataInDB(n):E.a.fire({icon:"warning",title:"Hmmm ..",html:'<h5 class="text-warning font-lobster mt-2">All fields are required</h5>'}):E.a.fire({icon:"error",title:"Oops..",html:'<h5 class="text-warning font-lobster mt-2">Email is not valid!</h5>'})},e.storeTeacherDataInDB=function(t){var a={email:t.email,id_number:t.id_number},n=document.getElementById("baseUrl").defaultValue;fetch("".concat(n,"/teachers"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){if("Teacher Is Already Exist."===t)E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">Teacher Email or ID is already exist</h5>'});else if(-1!==t.indexOf("token:")){var a=t.slice(6);e.setState({hashedToken:a}),E.a.fire({title:'<h3 class="font-acme">Enter the verification code sent to your email :</3>',icon:"question",iconHtml:"\u061f",html:'<input type="text" id="token" class="form-control text-center" placeholder="Verification Code" name="token"/>'}).then((function(){e.saveTeacher()}))}else E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">Something wrong , pleaase try again later</h5>'})})).catch("error during send Teacher data to backend")},e.clearForm=function(){document.getElementById("fname").value="",document.getElementById("lname").value="",document.getElementById("t_id").value="",document.getElementById("tpassword").value=""},e.handleClose=function(t){e.setState({show:!1})},e.done=function(t){e.setState({redirect:!0})},e.saveTeacher=function(){console.log("Hello world!!");var t=document.getElementById("token").value;if(t){var a=Object.assign({},e.state.teacherData),n=e.state.hashedToken;a.hashedToken=n,a.token=t,console.log(a," <= teacher data.  ");var s=document.getElementById("baseUrl").defaultValue;fetch("".concat(s,"/teacherRegister"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){"Teacher Added Successfully"===t?(E.a.fire({icon:"success",title:"Success",html:'<h5 class="text-success font-lobster mt-2">Teacher Added Successfully</h5>'}),e.storedUserInSession(e.state.teacherData),setTimeout((function(){e.goToHomePage()}),2e3)):E.a.fire({icon:"error",title:"Oops ..!",html:'<h5 class="text-danger font-lobster mt-2">Invalid Token</h5>'})})).catch((function(e){console.log("error when storing teacher data with the tokens.",e)}))}else E.a.fire({icon:"error",title:"Oops ..!",html:'<h5 class="text-danger font-lobster mt-2">Invalid Token</h5>'})},e.storedUserInSession=function(e){var t={firstName:e.firstName,lastName:e.lastName,id_number:e.id_number};sessionStorage.setItem("teacher",JSON.stringify(t))},e.goToHomePage=function(){window.location.replace("http://localhost:3000")},e.checkMail=function(t){/^\d*[A-Za-z]+\w*@zu.edu.jo$/gi.test(t.target.value)?e.setState({showTrueSignE:!0,showFalseSignE:!1}):e.setState({showTrueSignE:!1,showFalseSignE:!0})},e.state={verified:!1,teacherData:{},hashedToken:"",route:null,showTrueSignE:!1,showFalseSignE:!1},e}return Object(o.a)(a,[{key:"render",value:function(){return this.state.redirect?s.a.createElement(f.a,{to:"/"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{id:"formTeacher",hidden:this.state.verified},s.a.createElement("label",{className:"label-title "},"First Name"),s.a.createElement("input",{name:"fname",id:"fname",type:"text"}),s.a.createElement("label",{className:"label-title "},"Last Name"),s.a.createElement("input",{name:"lname",id:"lname",type:"text"}),s.a.createElement("label",{className:"label-title "},"ID Number"),s.a.createElement("input",{name:"t_id",id:"t_id",type:"text"}),s.a.createElement("label",{className:"label-title "},"E-MAIL"),s.a.createElement("div",{className:"contSigns"},s.a.createElement("input",{name:"email",id:"email",type:"email",onChange:this.checkMail}),s.a.createElement("span",{className:"spanSign"},s.a.createElement("i",{hidden:!this.state.showFalseSignE,className:" fas fa-exclamation errorSign "}),s.a.createElement("i",{hidden:!this.state.showTrueSignE,className:"far fa-check-circle checkSign"}))),s.a.createElement("label",{className:"label-title "},"PASSWORD"),s.a.createElement("input",{name:"tpassword",id:"tpassword",type:"password"}),s.a.createElement("button",{className:"mt4 my-button",onClick:this.newTeacher},"Sign Up")))}}]),a}(n.Component),z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).checkInputData=function(t){t.preventDefault();var a=document.getElementById("formStudent"),n=a.firstName.value,s=a.lastName.value,l=a.id_number.value,c={firstName:n,lastName:s,id_number:l},r=document.getElementById("file");if(n&&s&&l&&e.checkThreeImages(r)){var o=new FormData;o.append("image",r.files[0],"file"),o.append("image",r.files[1],"file"),o.append("image",r.files[2],"file"),e.sendToken(l).then((function(t){if("This ID Is Already Exist"===t)E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">'.concat(t,"</h5>")});else{var a=t;E.a.fire({title:'<h3 class="font-acme">Enter the verification code sent to your email :</3>',icon:"question",iconHtml:"?",html:'<input type="text" id="studentToken" class="form-control text-center" placeholder="Verification Code" name="token"/>'}).then((function(){e.createPerson(o,c,a)}))}}))}else E.a.fire({icon:"warning",title:"Hmmm ..",html:'<h5 class="text-warning font-lobster mt-2">All fields are required<br>And you should enter three images.</h5>'})},e.sendToken=function(e){var t=document.getElementById("baseUrl").defaultValue,a="".concat(t,"/sendTokenStd"),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})};return fetch(a,n).then((function(e){return e.json()}))},e.createPerson=function(t,a,n){var s=document.getElementById("studentToken").value;a.token=s,a.hashedToken=n,a=JSON.stringify(a),t.append("studentData",a);var l={method:"POST",body:t,redirect:"follow"},c=document.getElementById("baseUrl").defaultValue;fetch("".concat(c,"/createPerson"),l).then((function(e){return e.json()})).then((function(t){"Student Is Added Successfuly"===t?E.a.fire({icon:"success",title:"Success",html:'<h5 class="text-success font-lobster mt-2">Student Added Successfully</h5>'}).then((function(){e.setState({route:"/"})})):"Token is wrong."===t?E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">Token is wrong! <br> Try again..</h5>'}):(E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">Something wrong, try again later, please.</h5>'}),console.log(t))})).catch((function(e){console.log("error while create the person..",e)}))},e.handleClose=function(t){e.setState({show:!1})},e.done=function(t){e.setState({redirect:!0})},e.checkFiles=function(t){3===t.target.files.length?e.setState({showTrueSign:!0,showFalseSign:!1}):e.setState({showTrueSign:!1,showFalseSign:!0})},e.state={show:!1,title:"",body:"",redirect:!1,route:null,showTrueSign:!1,showFalseSign:!1},e}return Object(o.a)(a,[{key:"checkThreeImages",value:function(e){return 3===e.files.length}},{key:"render",value:function(){return this.state.redirect?s.a.createElement(f.a,{to:"/"}):s.a.createElement(s.a.Fragment,null,this.state.route?s.a.createElement(f.a,{to:this.state.route}):null,s.a.createElement("form",{id:"formStudent",hidden:this.state.hideform},s.a.createElement("label",{className:"label-title "},"First Name"),s.a.createElement("input",{name:"firstName",id:"firstName",type:"text"}),s.a.createElement("label",{className:"label-title "},"Last Name"),s.a.createElement("input",{name:"lastName",id:"lastName",type:"text"}),s.a.createElement("label",{className:"label-title "},"ID Number"),s.a.createElement("input",{name:"id_number",id:"id_number",type:"text"}),s.a.createElement("div",{className:"contSigns"},s.a.createElement("label",{className:"uploadFile mt4 grow dim pointer label-title",htmlFor:"file"},"Upload 3 Images ",s.a.createElement("i",{class:" fas fa-cloud-upload-alt"})),s.a.createElement("span",{className:"spanSign"},s.a.createElement("i",{hidden:!this.state.showFalseSign,className:"mmt fas fa-exclamation errorSign "}),s.a.createElement("i",{hidden:!this.state.showTrueSign,className:" mmt far fa-check-circle checkSign"}))),s.a.createElement("input",{type:"file",id:"file",className:"form-file mt-4",multiple:!0,accept:"image/*",required:!0,onChange:this.checkFiles}),s.a.createElement("button",{className:"mt4 my-button",onClick:this.checkInputData},"Sign Up")))}}]),a}(n.Component),M=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).checkId=function(e){e.preventDefault();var t=document.getElementById("signInForm"),a={id:t.teacherId.value,password:t.teacherPassword.value};a.id&&a.password?function(e){var t=document.getElementById("baseUrl").defaultValue;return fetch("".concat(t,"/loginTeacher"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}(a).then((function(e){!function(e){if(1===e.length)return!0;return!1}(e)?E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">Email OR Password Is Wrong<br>Try again.</h5>'}):(!function(e){var t=e[0],a=t.firstName,n=t.lastName,s=t.id_number,l={firstName:a,lastName:n,id_number:s};sessionStorage.setItem("teacher",JSON.stringify(l))}(e),window.location.replace("http://localhost:3000"))})).catch((function(e){console.log("error during send user data to backend within the sign in page.")})):E.a.fire({icon:"warning",title:"Hmmm ..",html:'<h5 class="text-warning font-lobster mt-2">All fields are required</h5>'})},e.resetPassHandler=function(t){var a=document.getElementById("resetToken").value,n=e.state,s={email:n.email,newPass:n.newPass,token:a,hashedToken:n.hashedToken},l=document.getElementById("baseUrl").defaultValue,c="".concat(l,"/resetPass"),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};fetch(c,r).then((function(e){return e.json()})).then((function(t){"done"===t?(E.a.fire({icon:"success",title:"Success",html:'<h5 class="text-success font-lobster mt-2">Password Is Changed Successfully</h5>'}),e.setState({isForgotClicked:!1}),e.clearForms()):"Token is wrong."===t&&E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">Token is wrong! <br> Try again..</h5>'}),console.log(t)}))},e.showResetForm=function(){e.setState({isForgotClicked:!0})},e.showLoginForm=function(){e.setState({isForgotClicked:!1})},e.getAccessToken=function(t){t.preventDefault();var a=document.getElementById("resetPassForm"),n=a.email.value,s=a.newPass.value;if(n&&s){e.setState({email:n,newPass:s});var l=document.getElementById("baseUrl").defaultValue,c="".concat(l,"/sendToken"),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})};fetch(c,r).then((function(e){return e.json()})).then((function(t){"This email is not registered yet."===t?E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">'.concat(t,"</h5>")}):"error within checking the teacher existance"===t?E.a.fire({icon:"error",title:"Oops ...",html:'<h5 class="text-danger font-lobster mt-2">Something wrong, try again later, please.</h5>'}):(e.setState({hashedToken:t,showSentToken:!0}),E.a.fire({title:'<h3 class="font-acme">Enter the verification code sent to your email :</3>',icon:"question",iconHtml:"?",html:'<input type="text" id="resetToken" class="form-control text-center" placeholder="Verification Code" name="token"/>'}).then((function(){e.resetPassHandler()})))})).catch((function(e){console.log("error when getting the hashed token..")}))}else E.a.fire({icon:"warning",title:"Hmmm ..",html:'<h5 class="text-warning font-lobster mt-2">All fields are required</h5>'})},e.clearForms=function(){var e=document.getElementById("signInForm"),t=document.getElementById("resetPassForm");e.teacherId.value="",e.teacherPassword.value="",t.email.value="",t.newPass.value=""},e.state={isForgotClicked:!1,email:"",newPass:"",hashedToken:"",token:"",route:null},e}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{hidden:this.state.isForgotClicked},s.a.createElement("form",{className:"mt-3",id:"signInForm"},s.a.createElement("label",{className:"label-title "},"ID Number"),s.a.createElement("input",{name:"teacherId",type:"text"}),s.a.createElement("label",{className:"label-title "},"PASSWORD"),s.a.createElement("input",{name:"teacherPassword",type:"password"}),s.a.createElement("button",{onClick:this.checkId,className:"mt4 my-button "},"Sign In")),s.a.createElement("p",{onClick:this.showResetForm,className:"mt4 pointer grow "},s.a.createElement("span",{className:"forget"},"Forgot Password?"))),s.a.createElement("div",{hidden:!this.state.isForgotClicked},s.a.createElement("form",{className:"mt-3",id:"resetPassForm"},s.a.createElement("div",null,s.a.createElement("label",{className:"label-title "},"Email"),s.a.createElement("input",{name:"email",type:"email"}),s.a.createElement("label",{className:"label-title "},"New Password"),s.a.createElement("input",{name:"newPass",type:"password"}),s.a.createElement("button",{onClick:this.getAccessToken,className:"mt4 my-button "},"Send Token"))),s.a.createElement("p",{onClick:this.showLoginForm,className:"mt4 pointer grow label-title "},s.a.createElement("span",{className:"forget"},"login?"))))}}]),a}(n.Component);var Y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).changeForm=function(t){e.setState({isFlipped:t}),t?(y()("p.regBtn").removeClass("btnFormActive"),y()("p.signBtn").addClass("btnFormActive")):(y()("p.signBtn").removeClass("btnFormActive"),y()("p.regBtn").addClass("btnFormActive"))},e.asStdHandler=function(t){t.target.checked?e.setState({hideStdForm:!1}):e.setState({hideStdForm:!0})},e.state={isForgotClicked:!1,email:"",newPass:"",hashedToken:"",token:"",route:null,singnIn:!0,isFlipped:!1,hideStdForm:!0},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"reg-body "},s.a.createElement("div",{className:"reg-content"},s.a.createElement("div",{className:"reg-container"},s.a.createElement("div",{className:"reg-menu"},s.a.createElement("p",{onClick:function(){e.changeForm(!1)},className:"  regBtn pointer flipperBtn btnFormActive "},"SIGN IN"),s.a.createElement("p",{onClick:function(){e.changeForm(!0)},className:" signBtn pointer  flipperBtn "},"SIGN UP")),s.a.createElement("div",{className:"my-line"}),s.a.createElement(v.a,{className:"flipCard",isFlipped:this.state.isFlipped,flipDirection:"horizontal"},s.a.createElement("div",{className:"connexion"},s.a.createElement(M,null)),s.a.createElement("div",{className:"enregistrer active-section"},s.a.createElement("div",{className:"contact-form"},s.a.createElement("div",{className:"reg-check reg-as"},s.a.createElement("label",{className:"reg-as"},s.a.createElement("input",{id:"checkAs",type:"checkbox",className:" checkbox",onChange:this.asStdHandler}),s.a.createElement("svg",{className:"pointer",xmlns:"http://www.w3.org/2000/svg",width:"26px",height:"23px"},s.a.createElement("path",{className:"path-back",d:"M1.5,6.021V2.451C1.5,2.009,1.646,1.5,2.3,1.5h18.4c0.442,0,0.8,0.358,0.8,0.801v18.398c0,0.442-0.357,0.801-0.8,0.801H2.3c-0.442,0-0.8-0.358-0.8-0.801V6"}),s.a.createElement("path",{className:"path-moving",d:"M24.192,3.813L11.818,16.188L1.5,6.021V2.451C1.5,2.009,1.646,1.5,2.3,1.5h18.4c0.442,0,0.8,0.358,0.8,0.801v18.398c0,0.442-0.357,0.801-0.8,0.801H2.3c-0.442,0-0.8-0.358-0.8-0.801V6"}))),s.a.createElement("label",{className:"forAs pointer label-title",htmlFor:"checkAs"},"Register As Student")),s.a.createElement("div",{className:"my-line"}),this.state.hideStdForm&&s.a.createElement(V,{hidden:!0}),!this.state.hideStdForm&&s.a.createElement(z,null))))))))}}]),a}(n.Component);a(372);var q=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"site-footer"},s.a.createElement("h3",null,"All rights reserved \xa9 to ",s.a.createElement("span",null,"Faceify")," 2021 ")))},W={particles:{number:{value:30,density:{enable:!1,value_area:800}},color:{value:"#39dcff"},shape:{type:"circle",opacity:{value:1,random:!0}},size:{value:6,random:!0},line_linked:{enable:!1,distance:250,color:"#ffffff",opacity:.2,width:3},move:{enable:!0,speed:2},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},push:{particles_nb:4},remove:{particles_nb:4}}},retina_detect:!0}};var X=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).logOut=function(){sessionStorage.clear(),window.location.reload()},e.onClickNavItems=function(e){e.target.id.includes("navLink")||document.querySelector(".nav-container").classList.toggle("active")},e.state={teacherName:"",login:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector(".hamburger-menu"),t=document.querySelector(".nav-container"),a=document.querySelectorAll(".links ul li a");console.log(a),e.addEventListener("click",(function(e){t.classList.toggle("active")})),document.getElementById("logoutLink").classList.remove("active");var n=JSON.parse(sessionStorage.getItem("teacher"))||"";if(n){var s="".concat(n.firstName," ").concat(n.lastName);this.setState({teacherName:s,login:!0})}else this.setState({teacherName:"",login:!1})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"nav-container"},s.a.createElement("div",{className:"navbar"},s.a.createElement("div",{className:"menu"},s.a.createElement("h3",{className:"logo"},"Face",s.a.createElement("span",{className:"orange "},"ify")),s.a.createElement("div",{className:"hamburger-menu"},s.a.createElement("div",{className:"bar"}))),s.a.createElement("p",{hidden:!this.state.login,className:"navName"},"Dr. ",s.a.createElement("span",null,this.state.teacherName))),s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"main"},s.a.createElement("header",null,s.a.createElement(J.a,{className:"Particles",params:W}),s.a.createElement("div",{className:"overlay"},s.a.createElement(H.a,{id:"first-container"},s.a.createElement(f.d,null,s.a.createElement(f.b,{path:"/",exact:!0,component:h}),s.a.createElement(f.b,{path:"/login",component:Y}),s.a.createElement(f.b,{path:"/create",component:function(){return s.a.createElement(S,null)}}),s.a.createElement(f.b,{path:"/show",component:U}))),s.a.createElement(q,null)))),s.a.createElement("div",{className:"nshadow one"}),s.a.createElement("div",{className:"nshadow two"})),s.a.createElement("div",{className:"links",onClick:this.onClickNavItems},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("p",{hidden:!this.state.login,style:{"--i":"0.02s"},className:"navName2"},"DR.",s.a.createElement("span",null,this.state.teacherName))),s.a.createElement("li",null,s.a.createElement(d.c,{id:"navLink1",style:{"--i":"0.05s"},exact:!0,to:"/"},"Home")),s.a.createElement("li",null,s.a.createElement(d.c,{id:"navLink2",style:{"--i":"0.1s"},to:"/show"},"My Classes")),s.a.createElement("li",null,s.a.createElement(d.c,{id:"navLink3",style:{"--i":"0.15s"},to:"/create"},"Add Class")),s.a.createElement("li",null,s.a.createElement(d.c,{id:"navLink4",style:{"--i":"0.2s"},to:"/login",hidden:this.state.login},"Login")),s.a.createElement("li",null,s.a.createElement(d.c,{id:"logoutLink",onClick:this.logOut,style:{"--i":"0.25s"},to:"/",hidden:!this.state.login},"Log out"))))))}}]),a}(n.Component),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(d.a,null,s.a.createElement(X,null),s.a.createElement(q,null)),s.a.createElement("input",{id:"baseUrl",hidden:!0,defaultValue:"https://class-take-attendance.herokuapp.com"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(373),a(374);c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.8f5c6c7a.chunk.js.map